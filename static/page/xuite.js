window.AviviD = window.AviviD || {settings:{},status:{}};
AviviD.web_id = 'xuite';
AviviD.category_id = window.avivid_category_id || '20201123000001';
AviviD.tracking_platform = 'likr';

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var a=0;return function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var a="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return a?a.call(b):$jscomp.arrayIterator(b)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){if(b==Array.prototype||b==Object.prototype)return b;b[a]=c.value;return b};
$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<b.length;++a){var c=b[a];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,a){var c=$jscomp.propertyToPolyfillSymbol[a];if(null==c)return b[a];c=b[c];return void 0!==c?c:b[a]};$jscomp.polyfill=function(b,a,c,d){a&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,a,c,d):$jscomp.polyfillUnisolated(b,a,c,d))};
$jscomp.polyfillUnisolated=function(b,a,c,d){c=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var f=b[d];if(!(f in c))return;c=c[f]}b=b[b.length-1];d=c[b];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})};
$jscomp.polyfillIsolated=function(b,a,c,d){var f=b.split(".");b=1===f.length;d=f[0];d=!b&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var e=0;e<f.length-1;e++){var g=f[e];if(!(g in d))return;d=d[g]}f=f[f.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[f]:null;a=a(c);null!=a&&(b?$jscomp.defineProperty($jscomp.polyfills,f,{configurable:!0,writable:!0,value:a}):a!==c&&($jscomp.propertyToPolyfillSymbol[f]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(f):$jscomp.POLYFILL_PREFIX+f,f=
$jscomp.propertyToPolyfillSymbol[f],$jscomp.defineProperty(d,f,{configurable:!0,writable:!0,value:a})))};$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},a={};try{return a.__proto__=b,a.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,a){b.__proto__=a;if(b.__proto__!==a)throw new TypeError(b+" is not extensible");return b}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(b){if(!(b instanceof Object))throw new TypeError("Iterator result "+b+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(b){this.yieldResult=b};
$jscomp.generator.Context.prototype.throw_=function(b){this.abruptCompletion_={exception:b,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype["return"]=function(b){this.abruptCompletion_={"return":b};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(b){this.abruptCompletion_={jumpTo:b};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(b,a){this.nextAddress=a;return{value:b}};
$jscomp.generator.Context.prototype.yieldAll=function(b,a){var c=$jscomp.makeIterator(b),d=c.next();$jscomp.generator.ensureIteratorResultIsObject_(d);if(d.done)this.yieldResult=d.value,this.nextAddress=a;else return this.yieldAllIterator_=c,this.yield(d.value,a)};$jscomp.generator.Context.prototype.jumpTo=function(b){this.nextAddress=b};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(b,a){this.catchAddress_=b;void 0!=a&&(this.finallyAddress_=a)};$jscomp.generator.Context.prototype.setFinallyBlock=function(b){this.catchAddress_=0;this.finallyAddress_=b||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(b,a){this.nextAddress=b;this.catchAddress_=a||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(b){this.catchAddress_=b||0;b=this.abruptCompletion_.exception;this.abruptCompletion_=null;return b};$jscomp.generator.Context.prototype.enterFinallyBlock=function(b,a,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=b||0;this.finallyAddress_=a||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(b,a){var c=this.finallyContexts_.splice(a||0)[0];if(c=this.abruptCompletion_=this.abruptCompletion_||c){if(c.isException)return this.jumpToErrorHandler_();void 0!=c.jumpTo&&this.finallyAddress_<c.jumpTo?(this.nextAddress=c.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=b};$jscomp.generator.Context.prototype.forIn=function(b){return new $jscomp.generator.Context.PropertyIterator(b)};
$jscomp.generator.Context.PropertyIterator=function(b){this.object_=b;this.properties_=[];for(var a in b)this.properties_.push(a);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var b=this.properties_.pop();if(b in this.object_)return b}return null};$jscomp.generator.Engine_=function(b){this.context_=new $jscomp.generator.Context;this.program_=b};
$jscomp.generator.Engine_.prototype.next_=function(b){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,b,this.context_.next_);this.context_.next_(b);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(b){this.context_.start_();var a=this.context_.yieldAllIterator_;if(a)return this.yieldAllStep_("return"in a?a["return"]:function(c){return{value:c,done:!0}},b,this.context_["return"]);this.context_["return"](b);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(b){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],b,this.context_.next_);this.context_.throw_(b);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(b,a,c){try{var d=b.call(this.context_.yieldAllIterator_,a);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var f=d.value}catch(e){return this.context_.yieldAllIterator_=null,this.context_.throw_(e),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,f);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var b=this.program_(this.context_);if(b)return this.context_.stop_(),{value:b.value,done:!1}}catch(a){this.context_.yieldResult=void 0,this.context_.throw_(a)}this.context_.stop_();if(this.context_.abruptCompletion_){b=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(b.isException)throw b.exception;return{value:b["return"],done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(b){this.next=function(a){return b.next_(a)};this["throw"]=function(a){return b.throw_(a)};this["return"]=function(a){return b.return_(a)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(b,a){var c=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a));$jscomp.setPrototypeOf&&b.prototype&&$jscomp.setPrototypeOf(c,b.prototype);return c};
$jscomp.asyncExecutePromiseGenerator=function(b){function a(d){return b.next(d)}function c(d){return b["throw"](d)}return new Promise(function(d,f){function e(g){g.done?d(g.value):Promise.resolve(g.value).then(a,c).then(e,f)}e(b.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(b){return $jscomp.asyncExecutePromiseGenerator(b())};$jscomp.asyncExecutePromiseGeneratorProgram=function(b){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b)))};
AviviD.returnError=function(b,a,c){JSON.stringify({source:b,msg:a,url:c})};(function(b,a,c,d){b.jQuery||(b=a.getElementsByTagName(c)[0]||a.getElementsByTagName("head")[0],a=a.createElement(c),a.type="text/javascript",a.src=d,b.parentNode.insertBefore(a,b))})(window,document,"script","https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js");
(function(b,a,c,d){a.getElementById("avivid_css")||(b=a.getElementsByTagName("head")[0],a=a.createElement(c),a.id="avivid_css",a.type="text/css",a.rel="stylesheet",a.href=d,b.appendChild(a),a.addEventListener("load",function(){AviviD.status.avivid_css=1}))})(window,document,"link","https://avivid.likr.tw/avivid_css/avivid_pseudo_native_subscribe/avivid_pseudo_native_subscribe.css");
(function(b,a,c,d){b=a.getElementsByTagName(c)[0]||a.getElementsByTagName("head")[0];a=a.createElement(c);a.type="text/javascript";a.src=d;b.parentNode.insertBefore(a,b)})(window,document,"script","https://avivid.likr.tw/sample/aws-sdk-AviviD-min-1.000.3.js");
"undefined"===typeof UAParser&&function(b,a){var c={extend:function(h,p){var l={},r;for(r in h)l[r]=p[r]&&0===p[r].length%2?p[r].concat(h[r]):h[r];return l},has:function(h,p){return"string"===typeof h?-1!==p.toLowerCase().indexOf(h.toLowerCase()):!1},lowerize:function(h){return h.toLowerCase()},major:function(h){return"string"===typeof h?h.replace(/[^\d\.]/g,"").split(".")[0]:a},trim:function(h){return h.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},d=function(h,p){for(var l=0,r,y,z,m,v,t;l<
p.length&&!v;){var A=p[l],E=p[l+1];for(r=y=0;r<A.length&&!v;)if(v=A[r++].exec(h))for(z=0;z<E.length;z++)t=v[++y],m=E[z],"object"===typeof m&&0<m.length?2==m.length?this[m[0]]="function"==typeof m[1]?m[1].call(this,t):m[1]:3==m.length?this[m[0]]="function"!==typeof m[1]||m[1].exec&&m[1].test?t?t.replace(m[1],m[2]):a:t?m[1].call(this,t,m[2]):a:4==m.length&&(this[m[0]]=t?m[3].call(this,t.replace(m[1],m[2])):a):this[m]=t?t:a;l+=2}},f=function(h,p){for(var l in p)if("object"===typeof p[l]&&0<p[l].length)for(var r=
0;r<p[l].length;r++){if(c.has(p[l][r],h))return"?"===l?a:l}else if(c.has(p[l],h))return"?"===l?a:l;return h},e={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},g={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/(opios)[\/\s]+([\w\.]+)/i],[["name","Opera Mini"],"version"],
[/\s(opr)\/([\w\.]+)/i],[["name","Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],["name","version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[["name","IE"],"version"],[/(edge)\/((\d+)?[\w\.]+)/i],["name",
"version"],[/(yabrowser)\/([\w\.]+)/i],[["name","Yandex"],"version"],[/(puffin)\/([\w\.]+)/i],[["name","Puffin"],"version"],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[["name","UCBrowser"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(micromessenger)\/([\w\.]+)/i],[["name","WeChat"],"version"],[/(QQ)\/([\d\.]+)/i],["name","version"],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],["name","version"],[/xiaomi\/miuibrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],
[/;fbav\/([\w\.]+);/i],["version",["name","Facebook"]],[/(headlesschrome) ([\w\.]+)/i],["version",["name","Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[["name",/(.+)/,"$1 WebView"],"version"],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[["name",/(.+(?:g|us))(.+)/,"$1 $2"],"version"],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],["version",["name","Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],["name","version"],[/(dolfin)\/([\w\.]+)/i],
[["name","Dolphin"],"version"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/(coast)\/([\w\.]+)/i],[["name","Opera Coast"],"version"],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["version","name"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],["name",["version",f,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416",
"2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,
/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",c.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",c.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],
[["architecture",c.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],
["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",f,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor",
"model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],["model",["vendor","Sony"],["type","mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",
["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[34portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",f,{HTC:"APA",Sprint:"Sprint"}],["model",f,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],
["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],["model",["vendor","Huawei"],["type","mobile"]],[/(microsoft);\s(lumia[\s\w]+)/i],["vendor","model",["type","mobile"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,
/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[["vendor",c.trim],["model",c.trim],["type","smarttv"]],[/hbbtv.+maple;(\d+)/i],[["model",/^/,"SmartTV"],["vendor","Samsung"],["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,
/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/smart-tv.+(samsung)/i],["vendor",["type","smarttv"],"model"],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],
["model",["vendor","Acer"],["type","tablet"]],[/android.+([vl]k\-?\d{3})\s+build/i],["model",["vendor","LG"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],
["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],["vendor","model",["type","mobile"]],[/crkey/i],[["model","Chromecast"],["vendor","Google"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/android.+;\s(pixel c)\s/i],["model",["vendor","Google"],["type","tablet"]],[/android.+;\s(pixel xl|pixel)\s/i],["model",["vendor","Google"],["type","mobile"]],[/android.+(\w+)\s+build\/hm\1/i,
/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/android.+;\s(m[1-5]\snote)\sbuild/i],["model",["vendor","Meizu"],["type","tablet"]],[/android.+a000(1)\s+build/i],["model",["vendor","OnePlus"],["type","mobile"]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],["model",["vendor","RCA"],["type","tablet"]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],["model",["vendor",
"Dell"],["type","tablet"]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],["model",["vendor","Verizon"],["type","tablet"]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[["vendor","Barnes & Noble"],"model",["type","tablet"]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],["model",["vendor","NuVision"],["type","tablet"]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[["vendor","ZTE"],"model",["type","tablet"]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],["model",["vendor","Swiss"],
["type","mobile"]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],["model",["vendor","Swiss"],["type","tablet"]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],["model",["vendor","Zeki"],["type","tablet"]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[["vendor","Dragon Touch"],"model",["type","tablet"]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],["model",["vendor","Insignia"],["type","tablet"]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],["model",
["vendor","NextBook"],["type","tablet"]],[/android.+[;\/]\s*(Xtreme_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[["vendor","Voice"],"model",["type","mobile"]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[["vendor","LvTel"],"model",["type","mobile"]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],["model",["vendor","Envizen"],["type","tablet"]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],
["model",["vendor","MachSpeed"],["type","tablet"]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*TU_(1491)\s+build/i],["model",["vendor","Rotor"],["type","tablet"]],[/android.+(KS(.+))\s+build/i],["model",["vendor","Amazon"],["type","tablet"]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],["vendor","model",["type","tablet"]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[["type",c.lowerize],"vendor","model"],[/(android.+)[;\/].+build/i],
["model",["vendor","Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv:([\w\.]+).*(gecko)/i],["version","name"]],os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],
["name",["version",f,e]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",f,e]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name",
"Firefox OS"],"version"],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],
["name","version"],[/(haiku)\s(\w+)/i],["name","version"],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[["version",/_/g,"."],["name","iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]},q=function(h,p){this.name=h;this.version=
p},B=function(h){this.architecture=h},w=function(h,p,l){this.vendor=h;this.model=p;this.type=l},x=function(h,p){"object"===typeof h&&(p=h,h=a);if(!(this instanceof x))return(new x(h,p)).getResult();var l=h||(b&&b.navigator&&b.navigator.userAgent?b.navigator.userAgent:""),r=p?c.extend(g,p):g,y=new q,z=new B,m=new w,v=new q,t=new q;this.getBrowser=function(){d.call(y,l,r.browser);y.major=c.major(y.version);return y};this.getCPU=function(){d.call(z,l,r.cpu);return z};this.getDevice=function(){d.call(m,
l,r.device);return m};this.getEngine=function(){d.call(v,l,r.engine);return v};this.getOS=function(){d.call(t,l,r.os);return t};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return l};this.setUA=function(A){l=A;y=new q;z=new B;m=new w;v=new q;t=new q;return this};return this};x.VERSION="0.7.14";x.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"};x.CPU={ARCHITECTURE:"architecture"};
x.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet",WEARABLE:"wearable",EMBEDDED:"embedded"};x.ENGINE={NAME:"name",VERSION:"version"};x.OS={NAME:"name",VERSION:"version"};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=x),exports.UAParser=x):"function"===typeof define&&define.amd?b.UAParser=x:b&&(b.UAParser=x);var k=b&&(b.jQuery||b.Zepto);if("undefined"!==typeof k){var C=new x;k.ua=
C.getResult();k.ua.get=function(){return C.getUA()};k.ua.set=function(h){C.setUA(h);h=C.getResult();for(var p in h)k.ua[p]=h[p]}}}("object"===typeof window?window:this);
window.AviviD&&!document.querySelector("#web_push, #avivid_push_banner")&&(AviviD.version="v7.3.2011230001",AviviD.status.debug=window.avivid_debug||0,AviviD.avivid_regid=window.avivid_regid||"_",AviviD.status.avivid_regid=AviviD.avivid_regid,AviviD.avivid_tag=window.avivid_tag||"_",AviviD.status.avivid_tag=AviviD.avivid_tag,AviviD.UAParser=new UAParser,AviviD.UAResult=AviviD.UAParser.getResult(),AviviD.allow_new_onpage_category_id=["20200309000002","20191211000001","20190816000003","20201026000001"],
AviviD.allow_rec_module_category_id=["20181022000001"],AviviD.construct=function(b){window.jQuery&&!AviviD.empty(AviviD.uuid)?b():window.jQuery&&"iOS"==AviviD.detect_browser_type()?b():setTimeout(function(){AviviD.construct(b)},50)},AviviD.main=function(){AviviD.set_is_likr();AviviD.str_os_type=AviviD.detect_os_type();AviviD.int_os_type=AviviD.trans_os_type_to_number(AviviD.str_os_type);AviviD.str_browser_type=AviviD.detect_browser_type();AviviD.int_browser_type=AviviD.trans_browser_type_to_number(AviviD.str_browser_type);
AviviD.webuserid=AviviD.get_webuserid();AviviD.client_href=encodeURIComponent(window.location.href);AviviD.ajax_data={web_id:AviviD.web_id,category_id:AviviD.category_id,uuid:AviviD.uuid,webuserid:AviviD.webuserid,os_type:AviviD.int_os_type,browser_type:AviviD.int_browser_type,client_href:window.location.href,version:AviviD.version};AviviD.geolocation={latitude:null,longitude:null,get_interval:1E4};AviviD.get_website_info();["20180920000003","20200521000001"].includes(AviviD.category_id)&&(-1<document.referrer.indexOf("firebase-messaging-sw")||
-1<location.search.indexOf("differ_push_day")||-1<location.search.indexOf("web_notification"))&&AviviD.before_page();AviviD.onpage_flow();AviviD.token_uuid_mapping()},AviviD.before_page=function(){AviviD.settings.website_type?("3"==AviviD.settings.website_type?window.onpopstate=function(){var b=window.btoa("web_id="+AviviD.web_id+"&uuid="+encodeURI(AviviD.uuid)+"&table=onpage_ecom_table");location.replace("https://cobra.likr.tw/ecom/item.html?data="+b)}:["20181004000001","20181005000001","20180905000003",
"20180802000001","20180920000003"].includes(AviviD.category_id)?window.onpopstate=function(){var b=window.btoa("?web_id="+AviviD.web_id);location.replace("https://cobra.likr.com.tw/popcorn/popcorn_list.html?"+b)}:window.onpopstate=function(){location.replace(window.location.origin)},history.pushState({state:"1"},"","")):setTimeout(function(){AviviD.before_page()},1E3)},AviviD.onpage_flow=function(){AviviD.settings.native_enable?(AviviD.time_setting(),AviviD.waterfall_ready(0),null!=AviviD.get_cookie("AviviD_already_exist")&&
AviviD.compensation()):setTimeout(function(){AviviD.onpage_flow()},500)},AviviD.waterfall_ready=function(b){if("function"===typeof AviviD.waterfall_enable)AviviD.waterfall_enable();else{if(100<b)return 0;setTimeout(function(){AviviD.waterfall_ready(b+1)},100)}},AviviD.time_setting=function(){AviviD.in_time=(new Date).getTime();AviviD.timestamp=0;AviviD.timeout="NaN"!=parseFloat(AviviD.settings.onpage_timeout_cycle).toString()?1E3*AviviD.settings.onpage_timeout_cycle:5E4;AviviD.timeOut={landing:"NaN"!=
parseFloat(AviviD.settings.onpage_timeout_first).toString()?AviviD.settings.onpage_timeout_first:50,browsing:"NaN"!=parseFloat(AviviD.settings.onpage_timeout_cycle).toString()?AviviD.settings.onpage_timeout_cycle:50,ad_banner:"NaN"!=parseFloat(AviviD.settings.ad_banner_timer).toString()?AviviD.settings.ad_banner_timer:10};AviviD.received=0;AviviD.start_browse=0;AviviD.adaptive_timer=0;-1!=AviviD.allow_new_onpage_category_id.indexOf(AviviD.category_id)&&setInterval(function(){AviviD.adaptive_timer++;
AviviD.onpage_debug_mode&&(console.log("\u52d5\u614b\u7e3d\u6642\u9593counting:"+AviviD.adaptive_timer),jQuery("#onpage_seesion_time").text("\u4f7f\u7528\u8005session\u6642\u9593:"+AviviD.adaptive_timer),jQuery("#onpage_received").text("likr_timer \u5012\u6578\u52300\u7684\u6b21\u6578:"+AviviD.likrTimer.timesUp_times))},1E3);AviviD.adaptive_timer_start=0;AviviD.adaptive_timer_end=0;AviviD.adaptive_tap_count=0;AviviD.adaptive_flag=0;AviviD.likrTimer={isScrolling:"",event_arr:[],timesUp_times:0,init:function(){AviviD.likr_timer=
AviviD.timeOut.landing;AviviD.likr_timer_ad_banner=AviviD.timeOut.ad_banner;setTimeout(function(){if(-1!=AviviD.allow_new_onpage_category_id.indexOf(AviviD.category_id)&&1==AviviD.settings.adaptive_push)console.log("AviviD.likrTimer\u521d\u59cb\u5316\u6e96\u5099\u5075\u6e2c\u4f7f\u7528\u8005\u52d5\u4f5c"),jQuery("#onpage_status").text("AviviD.likrTimer\u521d\u59cb\u5316\u6e96\u5099\u5075\u6e2c\u4f7f\u7528\u8005\u52d5\u4f5c"),AviviD.likrTimer.isTouchDevice()?(this.event_arr=["touchend"],jQuery("#is_touch_device").text("\u53ef\u652f\u63f4\u89f8\u78b0\u7684\u88dd\u7f6e\u5c07\u63a1\u7528: touchend")):
(this.event_arr=["click","scroll","keydown"],jQuery("#is_touch_device").text("\u4e0d\u652f\u63f4\u89f8\u78b0\u7684\u88dd\u7f6e\u5c07\u63a1\u7528: click,scroll,keydown")),this.event_arr.forEach(function(b){return AviviD.likrTimer.bindAdaptiveEvent(b)});else jQuery(window).on("keydown mousemove mousedown scroll",function(b){AviviD.likr_timer=AviviD.received%2?AviviD.timeOut.browsing:AviviD.timeOut.landing;AviviD.likr_timer_ad_banner=AviviD.timeOut.ad_banner})},1500)},native_init:function(b,a){a=void 0===
a?null:a;jQuery(window).on("keydown mousemove mousedown scroll",function(c){0==AviviD.start_browse&&(AviviD.likrTimer.intervalTrigger(b,a),AviviD.start_browse=1,jQuery(this).unbind(c))})},resetTime:function(){AviviD.likr_timer=AviviD.received%2?AviviD.timeOut.browsing:AviviD.timeOut.landing;AviviD.likr_timer_ad_banner=AviviD.timeOut.ad_banner},intervalTrigger_ad_banner:function(b,a){a=void 0===a?null:a;AviviD.likrTimer.clearTimer_ad_banner();AviviD.intervalTimeoutId_ad_banner=setInterval(function(){AviviD.likr_timer_ad_banner--;
0==AviviD.likr_timer_ad_banner&&(b(a),AviviD.likrTimer.clearTimer_ad_banner())},1E3)},intervalTrigger:function(b,a){a=void 0===a?null:a;AviviD.likrTimer.clearTimer();AviviD.intervalTimeoutId=setInterval(function(){AviviD.likr_timer--;0==AviviD.likr_timer&&(AviviD.likrTimer.timesUp_times++,b(a))},1E3)},clearTimer_ad_banner:function(){"undefined"!=AviviD.intervalTimeoutId_ad_banner&&clearTimeout(AviviD.intervalTimeoutId_ad_banner)},clearTimer:function(){"undefined"!=AviviD.intervalTimeoutId&&clearTimeout(AviviD.intervalTimeoutId)},
adaptiveRange:function(b){return 2>=b?10:4>=b?12:6>=b?14:8>=b?16:30},bindAdaptiveEvent:function(b){"scroll"==b?window.addEventListener(b,function(a){window.clearTimeout(AviviD.likrTimer.isScrolling);AviviD.likrTimer.isScrolling=setTimeout(function(){console.log("\u6ed1\u52d5\u505c\u6b62\u4e86");AviviD.likrTimer.likrTimerAssign()},66)},!1):window.addEventListener(b,AviviD.likrTimer.likrTimerAssign)},likrTimerAssign:function(){AviviD.adaptive_tap_count++;AviviD.likr_timer=AviviD.received%2?AviviD.timeOut.browsing:
AviviD.timeOut.landing;AviviD.likr_timer_ad_banner=AviviD.timeOut.ad_banner;1==AviviD.adaptive_tap_count?(AviviD.adaptive_timer_end=AviviD.adaptive_timer,AviviD.adaptive_flag=0):(AviviD.adaptive_timer_start=AviviD.adaptive_timer_end,AviviD.adaptive_timer_end=AviviD.adaptive_timer,AviviD.adaptive_flag=1);1>AviviD.likrTimer.timesUp_times?(AviviD.likr_timer=AviviD.likrTimer.adaptiveRange(AviviD.adaptive_timer_end-AviviD.adaptive_timer_start),1==AviviD.onpage_debug_mode&&(console.log("\u4f7f\u7528\u8005\u6d3b\u52d5\u4e2d\uff0c\u63a1\u7528\u52d5\u614b\u5f48\u5e55"),
jQuery("#onpage_status").text("\u4f7f\u7528\u8005\u958b\u59cb\u6d3b\u52d5\uff0c\u63a1\u7528\u52d5\u614b\u5f48\u5e55"),console.log("\u4f7f\u7528\u8005\u89f8\u78b0\u6642\u9593\u5dee:"+(AviviD.adaptive_timer_end-AviviD.adaptive_timer_start)),jQuery("#user_time_range").text("\u4f7f\u7528\u8005\u89f8\u78b0\u6642\u9593\u5dee:"+(AviviD.adaptive_timer_end-AviviD.adaptive_timer_start)),console.log("onpage\u52d5\u614b\u6642\u9593\u70ba:"+AviviD.likr_timer),jQuery("#onpage_activity_time").text("onpage\u52d5\u614b\u6642\u9593\u70ba:"+
AviviD.likr_timer))):(1==AviviD.onpage_debug_mode&&console.log("\u5df2\u8df3\u51fa\u904eonpage\uff0c\u4e0d\u518d\u8df3\u51fa"),AviviD.likr_timer=-1)},isTouchDevice:function(){return"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints},test:{contentNone:function(){if("undefined"==typeof document.getElementsByTagName("h1")[1]){var b=document.createElement("h1");b.innerHTML="\u5ee3\u544a\u9810\u7b97\u5df2\u4f7f\u7528\u5b8c\u7562\uff0c\u6c92\u6709\u5ee3\u544a\u7d20\u6750\u986f\u793a";
var a=document.getElementsByTagName("h1")[0];a.parentNode.insertBefore(b,a.nextSibling)}else document.getElementsByTagName("h1")[1].innerHTML="\u5ee3\u544a\u9810\u7b97\u5df2\u4f7f\u7528\u5b8c\u7562\uff0c\u6c92\u6709\u5ee3\u544a\u7d20\u6750\u986f\u793a"},countDown:function(){"undefined"==typeof jQuery("html>h1").html()?jQuery("html").prepend("<h1>\u63a8\u64ad\u5012\u6578: "+AviviD.likr_timer+"</h1>"):0<=AviviD.likr_timer?document.getElementsByTagName("h1")[0].innerHTML="\u63a8\u64ad\u5012\u6578: "+
AviviD.likr_timer:document.getElementsByTagName("h1")[0].innerHTML="\u89f8\u78b0\u87a2\u5e55\u6216</br>\u5c07\u6ed1\u9f20\u79fb\u52d5\u5230\u8996\u7a97\u5167\uff0c</br>\u4f7f\u63a8\u64ad\u958b\u59cb\u91cd\u65b0\u5012\u6578\u3002"},pushSuccess:function(){if("undefined"==typeof document.getElementsByTagName("h1")[1]){var b=document.createElement("h1");b.innerHTML="\u63a8\u64ad";var a=document.getElementsByTagName("h1")[0];a.parentNode.insertBefore(b,a.nextSibling)}else document.getElementsByTagName("h1")[1].innerHTML=
"\u63a8\u64ad"}}}},AviviD.get_article_title=function(){AviviD.settings.payment_selector="pixnet"==AviviD.web_id?void 0!=document.body.dataset.articleId?"#article-"+document.body.dataset.articleId+" > h2 > a":"_":AviviD.detect_is_mobile(AviviD.str_os_type)?AviviD.settings.payment_selector_m:AviviD.settings.payment_selector;null!==document.querySelector("meta[property='og:title']")?AviviD.title=document.querySelector("meta[property='og:title']").getAttribute("content"):null!==document.querySelector("title")?
AviviD.title=document.querySelector("title").innerHTML:null!==document.querySelector(AviviD.settings.payment_selector)?AviviD.title=document.querySelector(AviviD.settings.payment_selector).innerHTML:AviviD.title="_";return AviviD.title},AviviD.get_urlparam=function(b){b=new RegExp("(^|&)"+b+"=([^&]*)(&|$)");b=window.location.search.substr(1).match(b);return null!=b?unescape(b[2]):null},AviviD.get_uuid=function(){AviviD.status.is_new_user_uuid="0";if(AviviD.get_urlparam("likr_id"))try{var b=window.atob(AviviD.get_urlparam("likr_id"));
AviviD.set_cookie("AviviD_uuid",b);AviviD.set_cookie("uuid",b);AviviD.status.is_new_user_uuid="1";AviviD.uuid=b}catch(c){AviviD.set_cookie("AviviD_uuid","")}var a=AviviD.get_cookie("AviviD_uuid");if(AviviD.empty(a))temp_os=AviviD.detect_browser_type(),b=-1!=document.cookie.indexOf("hasCookiePermission=true"),"iOS"!=temp_os&&"Safari"!=temp_os||b?(window.addEventListener("message",function(c){AviviD.uuid_origin=c.origin;if("https://auto-load-balancer.likr.com.tw"===AviviD.uuid_origin){c=null===c.data?
AviviD.get_ios_uuid():c.data;AviviD.set_cookie("AviviD_uuid",c);AviviD.status.is_new_user_uuid="1";AviviD.uuid=c;var d=document.createElement("iframe");d.id="AviviD_ad_uuid_iframe";d.src="https://sun.advividnetwork.com/include_code/uuid_iframe.html?uuid="+c;d.style="display:none";document.body&&(document.body.appendChild(d),document.getElementById("AviviD_ad_uuid_iframe").style.display="none");AviviD.set_cookie("AviviD_refresh_uuid_status",1)}},!1),b=document.createElement("iframe"),b.id="AviviD_likr_uuid_iframe",
b.src="https://auto-load-balancer.likr.com.tw/pushEndPoint/uuid_gen/uuid_iframe.php",b.style="display:none",document.body?(document.body.appendChild(b),b=document.getElementById("AviviD_likr_uuid_iframe"),b.style.display="none"):setTimeout(function(){AviviD.get_uuid()},500)):(uuid=AviviD.get_ios_uuid(),AviviD.set_cookie("AviviD_uuid",uuid));else return!AviviD.empty(AviviD.web_id)&&(b=AviviD.get_cookie("AviviD_refresh_uuid_status"),AviviD.empty(b)||1==b)&&(window.addEventListener("message",function(c){AviviD.uuid_origin=
c.origin;if("https://auto-load-balancer.likr.com.tw"===AviviD.uuid_origin){c=null===c.data?AviviD.get_ios_uuid():c.data;AviviD.set_cookie("AviviD_uuid",c);AviviD.status.is_new_user_uuid="1";a=AviviD.uuid=c;var d=document.createElement("iframe");d.id="AviviD_ad_uuid_iframe";d.src="https://sun.advividnetwork.com/include_code/uuid_iframe.html?uuid="+c;d.style="display:none";document.body&&(document.body.appendChild(d),document.getElementById("AviviD_ad_uuid_iframe").style.display="none");AviviD.set_cookie("AviviD_refresh_uuid_status",
2)}},!1),b=document.createElement("iframe"),b.id="AviviD_likr_uuid_iframe",b.src="https://auto-load-balancer.likr.com.tw/pushEndPoint/uuid_gen/uuid_iframe.php",b.style="display:none",document.body?(document.body.appendChild(b),b=document.getElementById("AviviD_likr_uuid_iframe"),b.style.display="none"):setTimeout(function(){AviviD.get_uuid()},500)),a},AviviD.get_ios_uuid=function(){var b=function(){var c=Date.now();"undefined"!==typeof performance&&"function"===typeof performance.now&&(c+=performance.now());
return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var f=(c+16*Math.random())%16|0;c=Math.floor(c/16);return("x"===d?f:f&3|8).toString(16)})},a="";AviviD.status.is_new_user_ios_uuid="0";null==AviviD.get_cookie("AviviD_ios_uuid")?null==localStorage.getItem("AviviD_ios_uuid")?(a=b(),AviviD.status.is_new_user_ios_uuid="1"):a=localStorage.getItem("AviviD_ios_uuid"):a=AviviD.get_cookie("AviviD_ios_uuid");AviviD.set_cookie("AviviD_ios_uuid",a);localStorage.setItem("AviviD_ios_uuid",
a);return a},AviviD.get_webuserid=function(){var b=AviviD.get_cookie("webuserid");AviviD.status.is_new_user_webuserid="0";b||(b=AviviD.gen_webuserid(),AviviD.set_cookie("webuserid",b),AviviD.status.is_new_user_webuserid="1");return b},AviviD.gen_webuserid=function(){var b=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()},AviviD.get_website_info=function(){JSON.stringify(AviviD.ajax_data);var b="https://avivid.likr.tw/settings_file_json/"+
AviviD.category_id+".json";jQuery.ajax({type:"GET",url:b,dataType:"json",success:function(a){"_"==a.sender_id&&(a.sender_id="912321621860");AviviD.status.get_website_info="1";"1"==AviviD.status.get_website_info?(AviviD.settings.is_aws=a.is_aws,AviviD.settings.is_crescent=a.is_crescent,AviviD.settings.icon_path=a.icon_path,AviviD.settings.string_ring_icon=a.ring_icon,AviviD.settings.sw_type=a.sw_type,AviviD.settings.channel_id=a.channel_id,AviviD.settings.push_banner_data_title=a.banner_title,AviviD.settings.push_banner_data_content=
a.banner_content,AviviD.settings.push_banner_data_interval=a.banner_interval_mins,AviviD.settings.push_banner_data_position=a.banner_position,AviviD.settings.ring_position_top=a.ring_position_top,AviviD.settings.ring_position_bottom=a.ring_position_bottom,AviviD.settings.ring_position_left=a.ring_position_left,AviviD.settings.ring_position_right=a.ring_position_right,AviviD.settings.show_ring_after_subscribed=a.ring_display,AviviD.settings.show_ring=a.show_ring,AviviD.settings.ring_size_height=a.ring_size_height,
AviviD.settings.ring_size_width=a.ring_size_width,AviviD.settings.banner_allow_btn=a.banner_allow_btn,AviviD.settings.banner_cancel_btn=a.banner_cancel_btn,AviviD.settings.fb_banner_title=a.fb_banner_title,AviviD.settings.fb_banner_content=a.fb_banner_content,AviviD.settings.fb_banner_icon=a.fb_banner_icon,AviviD.settings.add_ecommerce_listener=a.add_ecommerce_listener,AviviD.settings.string_banner_icon=a.banner_icon,AviviD.settings.ring_position_mtop=a.ring_position_mtop,AviviD.settings.ring_position_mbottom=
a.ring_position_mbottom,AviviD.settings.ring_position_mleft=a.ring_position_mleft,AviviD.settings.ring_position_mright=a.ring_position_mright,AviviD.settings.show_fb_banner=a.show_fb_banner,AviviD.settings.pc_show_ring=a.pc_show_ring,AviviD.settings.pc_show_banner=a.pc_show_banner,AviviD.settings.mobile_show_ring=a.mobile_show_ring,AviviD.settings.mobile_show_banner=a.mobile_show_banner,AviviD.settings.banner_follow_specify_id=a.banner_follow_specify_id,AviviD.settings.banner_follow_specify_class=
a.banner_follow_specify_class,AviviD.settings.banner_inread_class=a.banner_inread_class,AviviD.settings.banner_inread_id=a.banner_inread_id,AviviD.settings.switch_language=a.switch_language,AviviD.settings.banner_follow_specify_m_id=a.banner_follow_specify_m_id,AviviD.settings.banner_follow_specify_m_class=a.banner_follow_specify_m_class,AviviD.settings.banner_inread_m_class=a.banner_inread_m_class,AviviD.settings.banner_inread_m_id=a.banner_inread_m_id,AviviD.settings.ios_enable=a.ios_enable,AviviD.settings.banner_cancel_twice_exp_day=
a.banner_click_cancel_twice_interval_days,AviviD.settings.website_type=a.website_type,AviviD.settings.native_enable=a.native_enable,AviviD.settings.banner_enable=a.banner_enable,AviviD.settings.onpage_enable=a.onpage_enable,AviviD.settings.compensation_enable=a.compensation_enable,AviviD.settings.onpage_timeout_first=a.onpage_timeout_first,AviviD.settings.onpage_timeout_cycle=a.onpage_timeout_cycle,AviviD.settings.onpage_with_ad=a.onpage_with_ad,AviviD.settings.ad_banner_enable=a.ad_banner_enable,
AviviD.settings.ad_banner_with_ad=a.ad_banner_with_ad,AviviD.settings.ad_banner_position=a.ad_banner_position,AviviD.settings.ad_banner_pic_position=a.ad_banner_pic_position,AviviD.settings.ad_banner_timer=a.ad_banner_timer,AviviD.settings.ad_banner_life_cycle=a.ad_banner_life_cycle,AviviD.settings.onpage_position=a.onpage_position,AviviD.settings.onpage_pic_position=a.onpage_pic_position,AviviD.settings.track_behavior_enable=a.track_behavior_enable,AviviD.settings.ip_enable=a.ip_enable,AviviD.settings.payment_selector=
a.payment_selector,AviviD.settings.payment_selector_m=a.payment_selector_m,AviviD.settings.payment_url=a.payment_url,AviviD.settings.payment_url_m=a.payment_url_m,AviviD.settings.checkout_url=a.checkout_url,AviviD.settings.checkout_url_m=a.checkout_url_m,AviviD.settings.checkout_trigger_class=a.checkout_trigger_class,AviviD.settings.checkout_trigger_class_m=a.checkout_trigger_class_m,AviviD.settings.checkout_data_class=a.checkout_data_class,AviviD.settings.checkout_data_class_m=a.checkout_data_class_m,
AviviD.settings.cart_url=a.cart_url,AviviD.settings.cart_url_m=a.cart_url_m,AviviD.settings.cart_data_class=a.cart_data_class,AviviD.settings.cart_data_class_m=a.cart_data_class_m,AviviD.settings.number_url=a.number_url,AviviD.settings.number_url_m=a.number_url_m,AviviD.settings.number_trigger_class=a.number_trigger_class,AviviD.settings.number_trigger_class_m=a.number_trigger_class_m,AviviD.settings.number_data_id=a.number_data_id,AviviD.settings.number_data_id_m=a.number_data_id_m,AviviD.settings.geolocation_enable=
a.geolocation_enable,AviviD.settings.pwa_enable=a.pwa_enable,AviviD.settings.console_enable=a.console_enable,AviviD.settings.SENDER_ID=a.sender_id,AviviD.settings.banner_native=a.banner_native,AviviD.sw_path="_"!=a.sw_path&&a.sw_path?a.sw_path:"/firebase-messaging-sw.js",AviviD.sw_scope="_"!=a.sw_scope&&a.sw_scope?a.sw_scope:"/firebase-cloud-messaging-push-scope",AviviD.update_time=(new Date).getTime(),AviviD.status.update_time=AviviD.convert_timestamp_to_time(AviviD.update_time),AviviD.switch_show_mode()):
AviviD.console("AviviD get_website_info : status => "+a.status+", resText => "+a.resText)},error:function(a,c,d){AviviD.console("jqXHR :",a);AviviD.console("textStatus :",c);AviviD.console("errorThrown :",d)}});-1!=AviviD.allow_new_onpage_category_id.indexOf(AviviD.category_id)&&(b="https://avivid.likr.tw/settings_file/"+AviviD.web_id+".json",jQuery.ajax({type:"GET",url:b,cache:!1,credentials:"same-origin",dataType:"json",success:function(a){AviviD.settings.adaptive_push=parseInt(a.adaptive_push);
AviviD.settings.event_trigger=parseInt(a.event_trigger);AviviD.settings.redirect_action=parseInt(a.redirect_action);jQuery("#adaptive_push>span").text(AviviD.settings.adaptive_push);jQuery("#event_trigger>span").text(AviviD.settings.event_trigger);jQuery("#redirect_action>span").text(AviviD.settings.redirect_action)},error:function(a,c,d){AviviD.console("jqXHR :",a);AviviD.console("textStatus :",c);AviviD.console("errorThrown :",d)}}))},AviviD.switch_show_mode=function(){AviviD.status.is_push_supported=
AviviD.detect_is_push_supported();"0"==AviviD.settings.ios_enable&&"2"==AviviD.int_os_type?AviviD.console("AviviD : iOS is disabled."):"1"===AviviD.settings.native_enable?AviviD.webpush_scheme_native():"1"===AviviD.settings.banner_enable&&(AviviD.status.is_push_supported?"5"!=AviviD.int_browser_type&&"6"!=AviviD.int_browser_type&&AviviD.banner_old():AviviD.console("Your Browser is not supported Push Notification"))},AviviD.detect_is_push_supported=function(){var b=AviviD.UAResult,a=/(ipod|iphone|ipad)/i.test(b.ua);
/(mac os)/i.test(b.os.name);var c=/chrome/i.test(b.browser.name),d=/firefox/i.test(b.browser.name);/safari/i.test(b.browser.name);/(Trident|MSIE)/i.test(b.ua);/line/i.test(b.ua);!/like android/i.test(b.ua)&&/android/i.test(b.ua);/edge/i.test(b.ua);var f=/Samsung/i.test(b.browser.name),e="fcm"===AviviD.settings.sw_type?50:49;c?b.browser.version.split(".",4)[0]<e&&(c=0):d&&44>b.browser.version.split(".",4)[0]&&(d=0);return c||d||f?a?!1:!0:!1},AviviD.protocol_firebase_accept=function(){return"http:"==
location.protocol?!1:!0},AviviD.webpush_scheme_native=function(){sw_series_browser=["Chrome","Firefox","Samsung Browser"];AviviD.in_array(AviviD.str_browser_type,sw_series_browser)?(AviviD.debugLog("sw_series_browser:",AviviD.str_browser_type),AviviD.protocol_firebase_accept()&&AviviD.loadFirebase()):"Safari"==AviviD.str_browser_type?"1"!=AviviD.status.subscribe_status?(AviviD.debugLog("apns:",AviviD.str_browser_type),"2"==AviviD.settings.banner_native?"1"!=AviviD.get_cookie("AviviD_already_exist")&&
AviviD.safari_banner_subscribe(AviviD.settings.string_banner_icon,AviviD.settings.push_banner_data_title,AviviD.settings.push_banner_data_content,AviviD.settings.banner_allow_btn,AviviD.settings.banner_cancel_btn):"1"==AviviD.settings.is_aws?AviviD.regSafari_aws():AviviD.regSafari()):(AviviD.debugLog("apns:",AviviD.str_browser_type),AviviD.debugLog("regSafari:","Subscribed"),AviviD.requestGeolocation()):AviviD.debugLog("AviviD: this browser is not supported push notification")},AviviD.banner_sub=
function(){if("0"==(null!=AviviD.get_cookie("AviviD_already_exist")?AviviD.get_cookie("AviviD_already_exist"):0)){var b=null!=AviviD.get_cookie("AviviD_show_banner")?AviviD.get_cookie("AviviD_show_banner"):0;"0"==b?AviviD.waterfall_subscribe_module&&AviviD.highest_zindex&&AviviD.subscribe_waterfall?(AviviD.loadScript("https://avivid.likr.tw/api/avivid_waterfall_subscribe_v2.css","AviviD_waterfall_subscribe"),AviviD.loadScript("https://avivid.likr.tw/api/avivid_waterfall_webpush.css","AviviD_waterfall_webpush"),
jQuery("html").append(AviviD.waterfall_subscribe_module(1,"AviviD.subscribe_agent_domain")),AviviD.highest_zindex("avivid_waterfall"),AviviD.subscribe_waterfall(screen.width,"avivid_waterfall_subscribe")):setTimeout(function(){AviviD.banner_sub()},500):"1"==b&&("1"==AviviD.settings.is_aws?AviviD.requestPermissionFCM_aws():AviviD.requestPermissionFCM())}else"1"!=(null!=AviviD.get_cookie("AviviD_show_sub")?AviviD.get_cookie("AviviD_show_sub"):0)&&(AviviD.messaging&&AviviD.waterfall_subscribe_module&&
AviviD.highest_zindex&&AviviD.subscribe_waterfall?AviviD.messaging.getToken().then(function(a){AviviD.console("token exists")})["catch"](function(a){AviviD.loadScript("https://avivid.likr.tw/api/avivid_waterfall_subscribe_v2.css","AviviD_waterfall_subscribe");AviviD.loadScript("https://avivid.likr.tw/api/avivid_waterfall_webpush.css","AviviD_waterfall_webpush");jQuery("html").append(AviviD.waterfall_subscribe_module(1,"AviviD.compensation_subscribe"));AviviD.highest_zindex("avivid_waterfall");AviviD.subscribe_waterfall(screen.width,
"avivid_waterfall_subscribe")}):setTimeout(function(){AviviD.banner_sub()},500))},AviviD.subscribe_agent_domain=function(b){switch(b){case "accept":AviviD.set_cookie("AviviD_show_banner","1");AviviD.waterfall_disappear("avivid_waterfall_subscribe");"1"==AviviD.settings.is_aws?AviviD.requestPermissionFCM_aws():AviviD.requestPermissionFCM();break;case "block":AviviD.set_cookie_minutes("AviviD_show_banner","2",60*AviviD.settings.ad_banner_life_cycle),AviviD.waterfall_disappear("avivid_waterfall_subscribe"),
AviviD.waterfall_disappear("avivid_waterfall_subscribe_setting")}},AviviD.empty=function(b){if("number"==typeof b||"boolean"==typeof b)return!1;if("null"===b||"undefined"===b||"undefined"==typeof b||null===b)return!0;if("undefined"!=typeof b.length)return 0==b.length;var a=0,c;for(c in b)b.hasOwnProperty(c)&&a++;return 0==a},AviviD.get_top_domain=function(){var b=window.location.hostname;if(/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/.test(b))return b;var a=b.split(".").length,c=b.split(".").reverse();
return"2">=a?b:"3"==a?"com"===c[1]?b:c[1]+"."+c[0]:"4"==a?"com"===c[0]?c[1]+"."+c[0]:c[2]+"."+c[1]+"."+c[0]:c[2]+"."+c[1]+"."+c[0]},AviviD.set_cookie=function(b,a,c){var d=AviviD.get_top_domain();c=c||3650;var f=new Date;f.setTime(f.getTime()+864E5*c);AviviD.protocol_firebase_accept()?document.cookie=b+"="+escape(a)+";expires="+f.toGMTString()+";domain="+d+";path=/;secure;":document.cookie=b+"="+escape(a)+";expires="+f.toGMTString()+";domain="+d+";path=/;"},AviviD.set_cookie_minutes=function(b,a,
c){var d=AviviD.get_top_domain();c=c||60;var f=new Date;f.setTime(f.getTime()+6E4*c);AviviD.protocol_firebase_accept()?document.cookie=b+"="+escape(a)+";expires="+f.toGMTString()+";domain="+d+";path=/;secure;":document.cookie=b+"="+escape(a)+";expires="+f.toGMTString()+";domain="+d+";path=/;"},AviviD.set_cookie_days=function(b,a,c){var d=AviviD.get_top_domain();c=c||30;var f=new Date;f.setTime(f.getTime()+864E5*c);AviviD.protocol_firebase_accept()?document.cookie=b+"="+escape(a)+";expires="+f.toGMTString()+
";domain="+d+";path=/;secure;":document.cookie=b+"="+escape(a)+";expires="+f.toGMTString()+";domain="+d+";path=/;"},AviviD.get_cookie=function(b){b=document.cookie.match(new RegExp("(^| )"+b+"=([^;]*)(;|$)"));return null!=b?unescape(b[2]):null},AviviD.delete_cookie=function(b){var a=new Date;a.setTime(a.getTime()-1);var c=AviviD.get_cookie(b);null!=c&&(document.cookie=b+"="+c+";expires="+a.toGMTString())},AviviD.detect_os_type=function(){return AviviD.UAResult.os.name},AviviD.trans_os_type_to_number=
function(b){switch(b){case "Android":return"1";case "iOS":return"2";case "Mac OS":return"3";case "Windows":return"4";default:return"9"}},AviviD.trans_browser_type_to_number=function(b){switch(b){case "Chrome":return"1";case "Firefox":return"2";case "Safari":return"3";case "iOS":return"4";case "IE":return"5";case "Edge":return"6";case "Samsung Browser":return"8";case "LINE":return"10";case "weixin":return"11";case "fbapp":return"12";case "Instagram":return"13";case "Opera":return"14";default:return"9"}},
AviviD.detect_browser_type=function(){var b=null!=navigator.userAgent.match(/line/i),a="iOS"==AviviD.UAResult.os.name,c="micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i),d=-1<navigator.userAgent.indexOf("FBAV")||-1<navigator.userAgent.indexOf("FBSV"),f=-1<navigator.userAgent.indexOf("Instagram");isOpera=-1<navigator.userAgent.indexOf("Opera")||-1<navigator.userAgent.indexOf("OPR");return b?"LINE":a?"iOS":c?"weixin":d?"fbapp":f?"Instagram":isOpera?"Opera":AviviD.UAResult.browser.name},
AviviD.convert_timestamp_to_time=function(b){var a=function(c,d){return c.length>=d?c:a("0"+c,d)};b=new Date(Number(b));return b.getFullYear().toString()+"/"+a((b.getMonth()+1).toString(),2)+"/"+a(b.getDate().toString(),2)+" "+a(b.getHours().toString(),2)+":"+a(b.getMinutes().toString(),2)+":"+a(b.getSeconds().toString(),2)},AviviD.detect_is_mobile=function(b){return"Android"==b||"iOS"==b?!0:!1},AviviD.detect_is_numeric=function(b){return!isNaN(parseFloat(b))&&isFinite(b)},AviviD.in_array=function(b,
a){for(var c=a.length,d=0;d<c;d++)if(a[d]==b)return!0;return!1},AviviD.console=function(b,a){"1"==AviviD.settings.console_enable&&console.log(b,void 0===a?"":a)},AviviD.loadFirebase=function(){var b={"firebase-messaging-sw-v2":"https://avivid.likr.tw/pushEndPoint/js/firebasejs/6.6.2/firebase.js"},a="https://avivid.likr.tw/pushEndPoint/js/firebasejs/4.1.3/firebase_g_scope.js";Object.keys(b).forEach(function(d){-1<AviviD.sw_path.indexOf(d)&&(a=b[d])});var c=function(){window.firebase?AviviD.firebaseInit():
function(d,f,e,g){d=f.getElementsByTagName(e)[0]||f.getElementsByTagName("head")[0];var q=f.createElement(e);q.type="text/javascript";q.src=g;d.parentNode.insertBefore(q,d);q.addEventListener("load",function w(){q.removeEventListener("load",w,!1);AviviD.firebaseInit()},!1)}(window,document,"script",a)};navigator.serviceWorker.controller?navigator.serviceWorker.controller.scriptURL.match(/.*\/firebase-messaging-sw.js$/)?"1"==AviviD.settings.pwa_enable?(window.addEventListener("beforeinstallprompt",
AviviD.registerPWAEvent),c()):navigator.serviceWorker.getRegistration().then(function(d){d.unregister();AviviD.status.subscribe_status="0";c()}):c():navigator.serviceWorker.getRegistrations().then(function(d){var f=0,e=null;if("1"!=AviviD.settings.pwa_enable)f=2;else{d=$jscomp.makeIterator(d);for(var g=d.next();!g.done;g=d.next())g=g.value,g.scope.match(/.*\/firebase-cloud-messaging-push-scope$/)?(f|=1,e=g):g.scope.match(/.*\/$/)&&(f|=2)}switch(f){case 0:case 1:e&&e.unregister(),AviviD.status.subscribe_status=
"0",window.addEventListener("beforeinstallprompt",AviviD.registerPWAEvent)}c()})},AviviD.registerPWAEvent=function(b){b.prompt();b.userChoice.then(function(a){"accepted"===a.outcome?AviviD.console("User accepted the A2HS prompt"):AviviD.console("User dismissed the A2HS prompt")})},AviviD.firebaseInit=function(){AviviD.firebaseApp=firebase.initializeApp({messagingSenderId:AviviD.settings.SENDER_ID},"AviviD");AviviD.console("AviviD.firebaseApp Init: "+AviviD.firebaseApp.name);AviviD.messaging=AviviD.firebaseApp.messaging();
"1"!=AviviD.status.subscribe_status?"0"==AviviD.settings.banner_native||"2"==AviviD.settings.banner_native?"1"==AviviD.settings.ad_banner_enable?AviviD.banner_sub():0==(null!=AviviD.get_cookie("AviviD_already_exist")?AviviD.get_cookie("AviviD_already_exist"):0)?"1"==AviviD.settings.is_aws?AviviD.requestPermissionFCM_aws():AviviD.requestPermissionFCM():(AviviD.console("AviviD token exist"),AviviD.requestGeolocation()):"1"==AviviD.settings.banner_native&&"1"!=AviviD.get_cookie("AviviD_already_exist")&&
AviviD.bannerPermission():AviviD.console("AviviD.firebaseApp : Subscribed.");AviviD.messaging.onMessage(function(b){AviviD.console("Message received. ",b);var a=b.data;navigator.serviceWorker.getRegistrations().then(function(c){AviviD.console("getRegistrations :",c);if(c){var d=c[0];AviviD.console("useServiceWorker :",d);AviviD.messaging.getToken().then(function(f){var e,g,q;return $jscomp.asyncExecutePromiseGeneratorProgram(function(B){if(1==B.nextAddress){if(!f)return console.error("getToken: No Instance ID token available. Request permission to generate one."),
B["return"]();AviviD.console("currentToken : "+f);return B.yield(AviviD.getNotificationData(f,a),3)}e=B.yieldResult;AviviD.console("pushData : ",e);AviviD.verifyMessage(a)?"1"==AviviD.settings.is_aws?(g={web_id:a.web_id,category_id:a.category_id,token:f,push_id:a.push_id,msg_source:a.msg_source,sw_source:self.location.origin},AviviD_AWS.config.region="ap-southeast-1",AviviD_AWS.config.credentials=new AviviD_AWS.CognitoIdentityCredentials({IdentityPoolId:"ap-southeast-1:f46698d9-24cf-4242-8a3d-8707f45d1cfd"}),
AviviD_AWS.config.credentials.get(function(w){if(w)console.error(w);else{w=new AviviD_AWS.Firehose;var x={DeliveryStreamName:"impression",Record:{Data:JSON.stringify(g)}};w.putRecord(x,function(k,C){k?console.error("IMPRESSION_LOG_RECEIVER error:",k):console.log("IMPRESSION_LOG_RECEIVER res:",C)})}})):(g={web_id:a.web_id,category_id:a.category_id,token:f,push_id:a.push_id,msg_source:a.msg_source,sw_source:self.location.origin},q=AviviD.createUrlObject("https://load-balancer.likr.com.tw/pushServer/impression_log_receiver.php",
g),AviviD.console("IMPRESSION_LOG_RECIEVER urlObject :",q),fetch(q).then(function(w){if(200!==w.status)throw Error("IMPRESSION_LOG_RECIEVER error code: "+w.status);return AviviD.console("IMPRESSION_LOG_RECIEVER res:",w)})["catch"](function(w){return console.error("IMPRESSION_LOG_RECIEVER error:",w)})):console.error("Message: Missing Parameters.");return"_"!=e.title?B["return"](d.showNotification(e.title,e.content)):B["return"]()})})["catch"](function(f){console.error("getToken :",f)})}})})},AviviD.requestPermissionFCM_aws=
function(){AviviD.messaging.requestPermission().then(function(){AviviD.console("Notification permission granted.");AviviD.messaging.getToken().then(function(b){b?(b={web_id:AviviD.web_id,token:b,category_id:AviviD.category_id,uuid:AviviD.uuid,sw_type:"fcm",user_agent:AviviD.UAResult.ua,client_href:window.location.href,os_type:AviviD.int_os_type,browser_type:AviviD.int_browser_type},AviviD.console("FCM Register send:",b),AviviD.kinesis_subscription_post(b)):AviviD.console("No Instance ID token available. Request permission to generate one.")})["catch"](function(b){AviviD.console("An error occurred while retrieving token. ",
b)})})["catch"](function(b){AviviD.console("Unable to get permission to notify.",b);AviviD.set_cookie("already_exist","1")})},AviviD.requestPermissionFCM=function(){AviviD.messaging.requestPermission().then(function(){AviviD.console("Notification permission granted.");AviviD.messaging.getToken().then(function(b){if(b){var a=AviviD.UAResult;b={web_id:AviviD.web_id,token:b,category_id:AviviD.category_id,avivid_regid:AviviD.avivid_regid,webuserid:AviviD.webuserid,uuid:AviviD.uuid,reg_source:"native",
sw_type:"fcm",browser_ver:a.browser.version,os_ver:a.os.version,user_agent:a.ua,client_href:window.location.href,os_type:AviviD.int_os_type,browser_type:AviviD.int_browser_type,avivid_tag:AviviD.avivid_tag};AviviD.console("FCM Register send:",b);jQuery.ajax({url:"https://auto-load-balancer.likr.com.tw/pushServer/endPointReg_v2.php",type:"POST",data:b,dataType:"json",success:function(c){AviviD.console("FCM Register res:",c);c.is_insert_success&&(AviviD.set_cookie("AviviD_already_exist","1"),c=c.resText.split("#"),
c[1]&&AviviD.set_cookie("sub_to",c[1]))},error:function(c,d,f){AviviD.console("xhr :",c);AviviD.console("ajaxOptions :",d);AviviD.console("thrownError :",f);AviviD.console("status code : "+c.status+" , ajaxOptions : "+d)}})}else AviviD.console("No Instance ID token available. Request permission to generate one.")})["catch"](function(b){AviviD.console("An error occurred while retrieving token. ",b)})})["catch"](function(b){AviviD.console("Unable to get permission to notify.",b);AviviD.set_cookie("AviviD_already_exist",
"1");AviviD.set_cookie_minutes("AviviD_show_sub","1",60*AviviD.settings.ad_banner_life_cycle)})},AviviD.requestGeolocation=function(){"1"==AviviD.settings.geolocation_enable&&navigator&&navigator.geolocation&&setTimeout(function(){navigator.geolocation.watchPosition(function(b){AviviD.geolocation.latitude=b.coords.latitude;AviviD.geolocation.longitude=b.coords.longitude})},AviviD.geolocation.get_interval)},AviviD.regSafari_aws=function(){if("safari"in window&&"pushNotification"in window.safari){var b=
AviviD.web_id,a=AviviD.UAResult,c="web.tw.com.likr."+b,d={domainName:b},f=function(e){"default"===e.permission?(window.safari.pushNotification.requestPermission("https://www.likr.com.tw/pushosx",c,d,f),AviviD.console("\u8a0a\u606f\u901a\u77e5\u72c0\u614b\uff1a\u9810\u8a2d"),AviviD.console("regSafari: ",e)):"denied"===e.permission?(AviviD.console("\u8a0a\u606f\u901a\u77e5\u72c0\u614b\uff1a\u5c01\u9396"),AviviD.set_cookie("ano_already_exist","1")):"granted"===e.permission&&(AviviD.console("\u8a0a\u606f\u901a\u77e5\u72c0\u614b\uff1a\u5141\u8a31"),
AviviD.set_cookie("ano_already_exist","1"),e=e.deviceToken,localStorage.setItem("avivid_safari_token",e),AviviD.console("The user granted, with token: "+e),e={web_id:AviviD.web_id,token:e,category_id:AviviD.category_id,uuid:e,reg_source:"native",sw_type:"safari",user_agent:a.ua,client_href:window.location.href,os_type:AviviD.int_os_type,browser_type:AviviD.int_browser_type},AviviD.console("regSafari Register send:",e),AviviD.kinesis_subscription_post(e));AviviD.requestGeolocation()};b=window.safari.pushNotification.permission(c);
f(b)}},AviviD.regSafari=function(){if("safari"in window&&"pushNotification"in window.safari){var b=AviviD.web_id,a=AviviD.UAResult,c="web.tw.com.likr."+b,d={domainName:b},f=function(e){"default"===e.permission?(window.safari.pushNotification.requestPermission("https://www.likr.com.tw/pushosx",c,d,f),AviviD.console("\u8a0a\u606f\u901a\u77e5\u72c0\u614b\uff1a\u9810\u8a2d"),AviviD.console("regSafari: ",e)):"denied"===e.permission?(AviviD.console("\u8a0a\u606f\u901a\u77e5\u72c0\u614b\uff1a\u5c01\u9396"),
AviviD.set_cookie("AviviD_already_exist","1")):"granted"===e.permission&&(AviviD.console("\u8a0a\u606f\u901a\u77e5\u72c0\u614b\uff1a\u5141\u8a31"),AviviD.set_cookie("AviviD_already_exist","1"),e=e.deviceToken,localStorage.setItem("avivid_safari_token",e),AviviD.console("The user granted, with token: "+e),e={web_id:AviviD.web_id,token:e,category_id:AviviD.category_id,avivid_regid:AviviD.avivid_regid,webuserid:AviviD.webuserid,uuid:e,reg_source:"native",sw_type:"safari",browser_ver:a.browser.version,
os_ver:a.os.version,user_agent:a.ua,client_href:window.location.href,os_type:AviviD.int_os_type,browser_type:AviviD.int_browser_type,avivid_tag:AviviD.avivid_tag},AviviD.console("regSafari Register send:",e),jQuery.ajax({url:"https://auto-load-balancer.likr.com.tw/pushServer/endPointReg_v2.php",type:"POST",data:e,success:function(g){AviviD.console("regSafari Register res:",g)},error:function(g,q,B){AviviD.console("xhr :",g);AviviD.console("ajaxOptions :",q);AviviD.console("thrownError :",B);AviviD.console("status code : "+
g.status+" , ajaxOptions : "+q)}}));AviviD.requestGeolocation()};b=window.safari.pushNotification.permission(c);f(b)}},AviviD.debugLog=function(b,a){AviviD.status.debug&&AviviD.console(b,a||"")},AviviD.isHasActionButton=function(b){return"object"!==typeof b?0:b.button1_url||b.button2_url?1:0},AviviD.verifyMessage=function(b){return b.web_id&&b.push_id&&b.msg_source?1:0},AviviD.kinesis_subscription_post=function(b){AviviD_AWS.config.region="ap-southeast-1";AviviD_AWS.config.credentials=new AviviD_AWS.CognitoIdentityCredentials({IdentityPoolId:"ap-southeast-1:f46698d9-24cf-4242-8a3d-8707f45d1cfd"});
AviviD_AWS.config.credentials.get(function(a){if(a)console.error(a);else{a=new AviviD_AWS.Firehose;var c={DeliveryStreamName:"subscribe",Record:{Data:JSON.stringify(b)}};a.putRecord(c,function(d,f){d||AviviD.set_cookie("AviviD_already_exist","1")})}})},AviviD.getNotificationData=function(b,a){var c,d,f,e,g,q,B,w,x,k,C,h,p,l,r,y,z,m,v,t,A,E,F,H,D,I,G;return $jscomp.asyncExecutePromiseGeneratorProgram(function(u){switch(u.nextAddress){case 1:c={title:"_",content:{body:"\u9ede\u64ca\u89c0\u770b\u66f4\u591a\u8cc7\u8a0a",
icon:"https://www.likr.com.tw/pushEndPoint/images/avivid/image/icon.png",requireInteraction:!0,data:{click_url:"https://www.likr.com.tw/",web_id:AviviD.web_id,token:b,push_id:"",msg_source:"error"}}};if(!a.push_id)return console.error("notificationDataError: data.push_id not existed, use defaultData."),u["return"](c);d=a.dynamic_type;switch(d){case "1":return u.jumpTo(2);case "2":return u.jumpTo(3);case "3":return u.jumpTo(4);case "4":return u.jumpTo(5);default:f={},f.title=a.title?a.title:c.title,
e={},e.body=a.body?a.body:c.content.body,e.icon=a.icon?a.icon:c.content.icon,e.image=a.image?a.image:"",e.requireInteraction="false"==a.requireInteraction?!1:!0,e.renotify="true"==a.renotify?!0:!1,e.silent="true"==a.silent?!0:!1,e.tag=a.tag?a.tag:"",e.data={web_id:a.web_id?a.web_id:AviviD.web_id,category_id:a.category_id?a.category_id:"",token:b,push_id:a.push_id,click_url:a.click_url?a.click_url:c.content.data.click_url,button1_url:a.button1_url,button2_url:a.button2_url,msg_source:a.msg_source},
g=[],a.button1_title&&g.push({action:"button1",title:a.button1_title,icon:a.button1_icon?a.button1_icon:""}),a.button2_title&&g.push({action:"button2",title:a.button2_title,icon:a.button2_icon?a.button2_icon:""})}u.jumpTo(6);break;case 2:return q={push_id:a.push_id,token:b,dynamic_type:a.dynamic_type},f={},B=a.news_url,w=AviviD.createUrlObject(B,q),x=fetch(w).then(function(n){if(200!==n.status)throw Error("error code: "+n.status);return n.json()}).then(function(n){return n})["catch"](function(n){return console.error("error:",
n)}),u.yield(x,7);case 7:k=u.yieldResult;C=k.title;h=k.msg;p=k.icon;l=k.image;r=k.click_url;y=k.button1_url;z=k.button2_url;m=k.button1_title?k.button1_title:"";v=k.button1_icon?k.button1_icon:"";t=k.button2_title?k.button2_title:"";A=k.button2_icon?k.button2_icon:"";f.title=C?C:c.title;e={};e.body=h?h:c.content.body;e.icon=p?p:c.content.icon;e.image=l?l:"";e.requireInteraction="false"==a.requireInteraction?!1:!0;e.renotify="true"==a.renotify?!0:!1;e.silent="true"==a.silent?!0:!1;e.tag=a.tag?a.tag:
"";e.data={web_id:a.web_id?a.web_id:AviviD.web_id,category_id:a.category_id?a.category_id:"",token:b,push_id:a.push_id,click_url:r?r:c.content.data.click_url,button1_url:y,button2_url:z,msg_source:a.msg_source};g=[];m&&g.push({action:"button1",title:m,icon:v?v:""});t&&g.push({action:"button2",title:t,icon:A?A:""});u.jumpTo(6);break;case 3:return q={push_id:a.push_id,token:b,dynamic_type:a.dynamic_type},f={},E=a.ads_url,F=AviviD.createUrlObject(E,q),x=fetch(F).then(function(n){if(200!==n.status)throw Error("error code: "+
n.status);return n.json()}).then(function(n){return n})["catch"](function(n){return console.error("error:",n)}),u.yield(x,8);case 8:k=u.yieldResult;C=k.title;h=k.msg;p=k.icon;l=k.image;r=k.click_url;y=k.button1_url;z=k.button2_url;m=k.button1_title?k.button1_title:"";v=k.button1_icon?k.button1_icon:"";t=k.button2_title?k.button2_title:"";A=k.button2_icon?k.button2_icon:"";f.title=C?C:c.title;e={};e.body=h?h:c.content.body;e.icon=p?p:c.content.icon;e.image=l?l:"";e.requireInteraction="false"==a.requireInteraction?
!1:!0;e.renotify="true"==a.renotify?!0:!1;e.silent="true"==a.silent?!0:!1;e.tag=a.tag?a.tag:"";e.data={web_id:a.web_id?a.web_id:AviviD.web_id,category_id:a.category_id?a.category_id:"",token:b,push_id:a.push_id,click_url:r?r:c.content.data.click_url,button1_url:y,button2_url:z,msg_source:a.msg_source};g=[];m&&g.push({action:"button1",title:m,icon:v?v:""});t&&g.push({action:"button2",title:t,icon:A?A:""});u.jumpTo(6);break;case 4:return q={push_id:a.push_id,token:b,dynamic_type:a.dynamic_type},f={},
E=a.ads_url,F=AviviD.createUrlObject(E,q),H=fetch(F).then(function(n){if(200!==n.status)throw Error("error code: "+n.status);return n.json()}).then(function(n){return n})["catch"](function(n){return console.error("error:",n)}),u.yield(H,9);case 9:D=u.yieldResult;l=D.image;y=D.click_url;z=D.click_url2;m=D.title?D.title:"";v="";t=D.title2?D.title2:"";A="";f.title=a.title?a.title:c.title;e={};e.body=a.body?a.body:c.content.body;e.icon=a.icon?a.icon:c.content.icon;e.image=l?l:"";e.requireInteraction=
"false"==a.requireInteraction?!1:!0;e.renotify="true"==a.renotify?!0:!1;e.silent="true"==a.silent?!0:!1;e.tag=a.tag?a.tag:"";e.data={web_id:a.web_id?a.web_id:AviviD.web_id,category_id:a.category_id?a.category_id:"",token:b,push_id:a.push_id,click_url:a.click_url?a.click_url:c.content.data.click_url,button1_url:y,button2_url:z,msg_source:a.msg_source};g=[];m&&g.push({action:"button1",title:m,icon:v?v:""});t&&g.push({action:"button2",title:t,icon:A?A:""});u.jumpTo(6);break;case 5:return q={push_id:a.push_id,
token:b,dynamic_type:a.dynamic_type},f={},B=a.news_url,w=AviviD.createUrlObject(B,q),I=fetch(w).then(function(n){if(200!==n.status)throw Error("error code: "+n.status);return n.json()}).then(function(n){return n})["catch"](function(n){return console.error("error:",n)}),u.yield(I,10);case 10:return G=u.yieldResult,E=a.ads_url,F=AviviD.createUrlObject(E,q),H=fetch(F).then(function(n){if(200!==n.status)throw Error("error code: "+n.status);return n.json()}).then(function(n){return n})["catch"](function(n){return console.error("error:",
n)}),u.yield(H,11);case 11:D=u.yieldResult;C=G.title;h=G.msg;p=G.icon;l=D.image;r=G.click_url;y=D.click_url;z=D.click_url2;m=D.title?D.title:"";v="";t=D.title2?D.title2:"";A="";f.title=C?C:c.title;e={};e.body=h?h:c.content.body;e.icon=p?p:c.content.icon;e.image=l?l:"";e.requireInteraction="false"==a.requireInteraction?!1:!0;e.renotify="true"==a.renotify?!0:!1;e.silent="true"==a.silent?!0:!1;e.tag=a.tag?a.tag:"";e.data={web_id:a.web_id?a.web_id:AviviD.web_id,category_id:a.category_id?a.category_id:
"",token:b,push_id:a.push_id,click_url:r?r:c.content.data.click_url,button1_url:y,button2_url:z,msg_source:a.msg_source};g=[];m&&g.push({action:"button1",title:m,icon:v?v:""});t&&g.push({action:"button2",title:t,icon:A?A:""});u.jumpTo(6);break;case 6:return 0<g.length&&(e.actions=g),e.image||delete e.image,f.content=e,u["return"](f)}})},AviviD.createUrlObject=function(b,a){var c=new URL(b);Object.keys(a).forEach(function(d){return c.searchParams.append(d,a[d])});return c},AviviD.set_is_likr=function(){if(AviviD.get_urlparam("is_likr")){var b=
AviviD.get_top_domain();b="is_likr="+AviviD.get_urlparam("is_likr")+";domain="+b+";path=/";document.cookie=b}},AviviD.set_token_subscribe=function(b){0==(null!=AviviD.get_cookie("AviviD_already_exist")?AviviD.get_cookie("AviviD_already_exist"):0)?AviviD.get_cookie("AviviD_token")?AviviD.console("repeat"):(AviviD.set_cookie("AviviD_token",b),jQuery.ajax({type:"POST",data:{token:b,web_id:AviviD.web_id,category_id:AviviD.category_id,uuid:AviviD.uuid,os_type:AviviD.int_os_type,browser_type:AviviD.int_browser_type,
ip:void 0!=AviviD.clientIP?AviviD.clientIP:"_",browser_ver:AviviD.UAResult.browser.version,os_ver:AviviD.UAResult.os.version,detect:AviviD.UAResult.ua,client_href:JSON.stringify(window.location.href)},url:"https://webpush-api02.likr.com.tw/pushServer/insert_subscribe_token.php",success:function(a){AviviD.console(a);AviviD.set_cookie("AviviD_already_exist","1")},error:function(a,c,d){AviviD.console("jqXHR :",a);AviviD.console("textStatus :",c);AviviD.console("errorThrown :",d)}})):AviviD.console("token exist")},
AviviD.bannerPermission=function(){AviviD.banner_subscribe(AviviD.settings.string_banner_icon,AviviD.settings.push_banner_data_title,AviviD.settings.push_banner_data_content,AviviD.settings.banner_allow_btn,AviviD.settings.banner_cancel_btn)},AviviD.safari_banner_subscribe=function(b,a,c,d,f){jQuery("head").append('<style type="text/css">.avivid_push_banner{top: 50px;left: 30%;padding: 20px 20px;box-shadow: 0 1px 2px gray;color: #222;position: fixed;z-index: 999999;width: 400px;height: 130px;border:1px #AAAAAA;background-color:#f0f0f0;-webkit-box-sizing:revert;-moz-box-sizing:revert;box-sizing:revert;}</style>');
jQuery("head").append('<style type="text/css">.avivid_icon{height: 100px; width:100px;}</style>');jQuery("head").append('<style type="text/css">.avivid_button_1{position: relative;bottom: -30px;left:200px;width:100px;height:30px;font-family:DFKai-sb;font-size:16px;font-weight:bold;border-radius:10px;background-color:#0066FF;color: white;outline:none;}</style>');jQuery("head").append('<style type="text/css">.avivid_button_2{position: relative;bottom: -30px;left:-10px;width:100px;height:30px;font-family:DFKai-sb;font-size:16px;font-weight:bold;border-radius:10px;background-color:#f0f0f0;color: black;outline:none;}</style>');
jQuery("head").append('<style type="text/css">.avivid_title{position: relative;left:120px;top:-140px;word-break:break-all;width:280px;font-weight:bold;font-family:DFKai-sb;}');jQuery("head").append('<style type="text/css">.avivid_content{position: relative;left:120px;top:-130px;word-break:break-all;width:280px;font-family:DFKai-sb;}');var e=document.createElement("div");e.setAttribute("id","avivid_requestPermission");e.setAttribute("class","avivid_push_banner");e.style.display="block";var g=document.createElement("img");
g.setAttribute("class","avivid_icon");g.setAttribute("src",b);b=document.createElement("input");b.setAttribute("class","avivid_button_1");b.setAttribute("type","button");b.setAttribute("onclick","AviviD.trigger_safari_requestPermission('access')");b.setAttribute("value",d);d=document.createElement("input");d.setAttribute("class","avivid_button_2");d.setAttribute("type","button");d.setAttribute("onclick","AviviD.trigger_safari_requestPermission('denied')");d.setAttribute("value",f);f=document.createElement("p");
f.setAttribute("style","bottom: 0px; font-size: 10px;");f.innerHTML="Powered by likr\u00ae";var q=document.createElement("p");q.setAttribute("class","avivid_title");q.innerHTML=a;a=document.createElement("p");a.setAttribute("class","avivid_content");a.innerHTML=c;AviviD.console(e);AviviD.console(document.body);document.body.appendChild(e);e.appendChild(g);e.appendChild(b);e.appendChild(d);e.appendChild(f);e.appendChild(q);e.appendChild(a)},AviviD.banner_subscribe=function(b,a,c,d,f){jQuery("head").append('<style type="text/css">.avivid_push_banner{top: 0;left: 40%;padding: 20px 20px;;box-shadow: 0 1px 3px gray;color: #222;position: fixed;z-index: 999999;width: 400px;height: 150px;border:1px #AAAAAA solid;background-color:#DDDDDD;}@media(max-width: 480px){.avivid_push_banner{top: 68%;left: 4%;padding: 20px 20px;;box-shadow: 0 1px 3px gray;color: #222;position: fixed;z-index: 999999;width: 290px;height: 130px;border:1px #AAAAAA solid;background-color:#DDDDDD;}}</style>');
jQuery("head").append('<style type="text/css">.avivid_icon{height: 100px; width:100px;} </style>');jQuery("head").append('<style type="text/css">.avivid_button_1{position: relative;bottom: -50px;left:200px;width:100px;background-color:#0066FF;color: white;outline:none;}@media(max-width: 480px){.avivid_button_1{position: relative;bottom: 0px;left:0px;width:110px;background-color:#0066FF;color: white;outline:none;}}</style>');jQuery("head").append('<style type="text/css">.avivid_button_2{position: relative;bottom: -50px;left:-10px;width:100px;background-color:#FFFFFF;color: black;outline:none;}@media(max-width: 480px){.avivid_button_2{position: relative;bottom: -30px;left:-90px;width:70px;background-color:#FFFFFF;color: black;outline:none;}}</style>');
jQuery("head").append('<style type="text/css">.avivid_title{position: relative;left:100px;top:-140px;word-break:break-all;width:280px;}@media (max-width: 480px){.avivid_title{position: relative;left:100px;top:-140px;word-break:break-all;width:200px;}}');jQuery("head").append('<style type="text/css">.avivid_content{position: relative;left:100px;top:-130px;word-break:break-all;width:280px;}@media (max-width: 480px){.avivid_content{position: relative;left:100px;top:-150px;word-break:break-all;width:200px;}}');
var e=document.createElement("div");e.setAttribute("id","avivid_requestPermission");e.setAttribute("class","avivid_push_banner");e.style.display="block";var g=document.createElement("img");g.setAttribute("class","avivid_icon");g.setAttribute("src",b);b=document.createElement("input");b.setAttribute("class","avivid_button_1");b.setAttribute("type","button");b.setAttribute("onclick","AviviD.trigger_requestPermission('access')");b.setAttribute("value",d);d=document.createElement("input");d.setAttribute("class",
"avivid_button_2");d.setAttribute("type","button");d.setAttribute("onclick","AviviD.trigger_requestPermission('denied')");d.setAttribute("value",f);f=document.createElement("p");f.setAttribute("style","position:relative; bottom: 0px; font-size: 10px;");f.innerHTML="Powered by likr\u00ae";var q=document.createElement("p");q.setAttribute("class","avivid_title");q.innerHTML=a;a=document.createElement("p");a.setAttribute("class","avivid_content");a.innerHTML=c;AviviD.console(e);AviviD.console(document.body);
document.body.appendChild(e);e.appendChild(g);e.appendChild(b);e.appendChild(d);e.appendChild(f);e.appendChild(q);e.appendChild(a)},AviviD.trigger_safari_requestPermission=function(b){"access"==b?(document.getElementById("avivid_requestPermission").style.display="none",0==(null!=AviviD.get_cookie("AviviD_already_exist")?AviviD.get_cookie("AviviD_already_exist"):0)?"1"==AviviD.settings.is_aws?AviviD.regSafari_aws():AviviD.regSafari():AviviD.console("AviviD token exist")):(document.getElementById("avivid_requestPermission").style.display=
"none",AviviD.set_cookie("AviviD_already_exist","1",1))},AviviD.trigger_requestPermission=function(b){"access"==b?(document.getElementById("avivid_requestPermission").style.display="none",0==(null!=AviviD.get_cookie("AviviD_already_exist")?AviviD.get_cookie("AviviD_already_exist"):0)?"1"==AviviD.settings.is_aws?AviviD.requestPermissionFCM_aws():AviviD.requestPermissionFCM():AviviD.console("AviviD token exist")):document.getElementById("avivid_requestPermission").style.display="none"},AviviD.page_view=
function(){AviviD.page_view_num=parseInt(AviviD.get_cookie("page_view"),10)+1||1;10==AviviD.page_view_num&&(AviviD.page_view_num=0);AviviD.set_cookie_days("page_view",AviviD.page_view_num,1)},AviviD.uuid=AviviD.get_uuid(),AviviD.loadScript=function(b,a){a=void 0===a?null:a;type=b.split(".").reverse()[0];switch(type){case "js":var c=document.createElement("script");c.type="text/javascript";c.src=b;break;case "css":c=document.createElement("link"),c.rel="stylesheet",c.type="text/css",null!=a&&(c.id=
a),c.href=b}document.head.appendChild(c)},AviviD.compensation_subscribe=function(b){switch(b){case "accept":AviviD.set_cookie("AviviD_show_sub","1");AviviD.waterfall_disappear("avivid_waterfall_subscribe");b="https://"+AviviD.web_id+".likr.com.tw/pushEndPoint/subscribe/v2/sub.html?web_id="+AviviD.web_id+"&client_href="+AviviD.client_href+"&avivid_regid="+AviviD.avivid_regid+"&category_id="+AviviD.category_id;AviviD.debugLog("go_to_subscribe :",b);window.open(b,AviviD.web_id+"_"+AviviD.category_id,
"height=130, width=320, left=100, top=50");AviviD.fcm_sec_log("a","0");break;case "block":AviviD.set_cookie("AviviD_show_sub","1",7),AviviD.waterfall_disappear("avivid_waterfall_subscribe"),AviviD.waterfall_disappear("avivid_waterfall_subscribe_setting"),AviviD.fcm_sec_log("b","0")}},AviviD.compensation=function(){var b=null!=AviviD.get_cookie("AviviD_show_sub")?AviviD.get_cookie("AviviD_show_sub"):0;"1"===AviviD.settings.compensation_enable&&"1"===AviviD.settings.native_enable&&"0"===AviviD.settings.banner_native&&
"0"===AviviD.settings.ad_banner_enable&&"1"!=b&&(AviviD.messaging&&AviviD.waterfall_subscribe_module&&AviviD.highest_zindex&&AviviD.subscribe_waterfall?AviviD.messaging.getToken().then(function(a){AviviD.console("token exists")})["catch"](function(a){AviviD.loadScript("https://avivid.likr.tw/api/avivid_waterfall_subscribe_v2.css","AviviD_waterfall_subscribe");AviviD.loadScript("https://avivid.likr.tw/api/avivid_waterfall_webpush.css","AviviD_waterfall_webpush");jQuery("html").append(AviviD.waterfall_subscribe_module(1,
"AviviD.compensation_subscribe"));AviviD.highest_zindex("avivid_waterfall");AviviD.subscribe_waterfall(screen.width,"avivid_waterfall_subscribe");jQuery("#avivid_waterfall_subscribe").on("mousemove click",function(c){var d=null!=AviviD.get_cookie("AviviD_already_exist")?AviviD.get_cookie("AviviD_already_exist"):0;AviviD.fcm_sec_log("0",d);jQuery(this).unbind(c)})}):setTimeout(function(){AviviD.compensation()},500))},AviviD.checktoken=function(){AviviD.messaging.getToken().then(function(b){console.log(b)})["catch"](function(b){console.log(b)})},
AviviD.fcm_sec_log=function(b,a){jQuery.ajax({url:"https://webpush-api02.likr.com.tw/pushServer/count_fcm_sec.php",type:"POST",data:{choose:b,web_id:AviviD.web_id,uuid:AviviD.uuid,already_exist:a},error:function(c,d,f){console.log("xhr :",c);console.log("ajaxOptions :",d);console.log("thrownError :",f);console.log("status code : "+c.status+" , ajaxOptions : "+d)}})},AviviD.banner_old=function(){"1"!=(null!=AviviD.get_cookie("AviviD_show_sub")?AviviD.get_cookie("AviviD_show_sub"):0)&&(AviviD.waterfall_subscribe_module&&
AviviD.highest_zindex&&AviviD.subscribe_waterfall?(AviviD.loadScript("https://avivid.likr.tw/api/avivid_waterfall_subscribe_v2.css","AviviD_waterfall_subscribe"),AviviD.loadScript("https://avivid.likr.tw/api/avivid_waterfall_webpush.css","AviviD_waterfall_webpush"),jQuery("html").append(AviviD.waterfall_subscribe_module(1,"AviviD.compensation_subscribe")),AviviD.highest_zindex("avivid_waterfall"),AviviD.subscribe_waterfall(screen.width,"avivid_waterfall_subscribe")):setTimeout(function(){AviviD.banner_old()},
500))},AviviD.token_uuid_mapping=function(){null==AviviD.get_cookie("AviviD_token_retake")&&(void 0!=AviviD.messaging?AviviD.messaging.getToken().then(function(b){b?jQuery.ajax({url:"https://auto-load-balancer.likr.com.tw/pushServer/remapping.php",type:"POST",data:{web_id:AviviD.web_id,uuid:AviviD.uuid,token:b,webuserid:AviviD.webuserid},success:function(a){AviviD.set_cookie("AviviD_token_retake",1,30)},error:function(a,c,d){AviviD.set_cookie("AviviD_token_retake",0,7)}}):AviviD.set_cookie("AviviD_token_retake",
0,7)})["catch"](function(b){AviviD.set_cookie("AviviD_token_retake",0,7)}):setTimeout(function(){AviviD.token_uuid_mapping()},2E3))},AviviD.construct(AviviD.main));AviviD.DetectIE_Version=function(){var b=window.navigator.userAgent,a=b.indexOf("MSIE ");if(0<a)return parseInt(b.substring(a+5,b.indexOf(".",a)),10);if(0<b.indexOf("Trident/"))return a=b.indexOf("rv:"),parseInt(b.substring(a+3,b.indexOf(".",a)),10);a=b.indexOf("Edge/");return 0<a?parseInt(b.substring(a+5,b.indexOf(".",a)),10):0};
(NotIE_and_IsIE_final_version=!(0<AviviD.DetectIE_Version()&&11>=AviviD.DetectIE_Version()))&&(-1!=AviviD.allow_new_onpage_category_id.indexOf(AviviD.category_id)?AviviD.loadScript("https://avivid.likr.tw/api/ios_water_webpush_v20.min.js"):AviviD.loadScript("https://avivid.likr.tw/api/ios_water_webpush_v19.min.js"));


(function(a,b,c,k){a.jQuery||(a=b.getElementsByTagName(c)[0]||b.getElementsByTagName("head")[0],b=b.createElement(c),b.type="text/javascript",b.src=k,a.parentNode.insertBefore(b,a))})(window,document,"script","https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js");
"undefined"===typeof UAParser&&function(a,b){var c={extend:function(d,e){var f={},h;for(h in d)f[h]=e[h]&&0===e[h].length%2?e[h].concat(d[h]):d[h];return f},has:function(d,e){return"string"===typeof d?-1!==e.toLowerCase().indexOf(d.toLowerCase()):!1},lowerize:function(d){return d.toLowerCase()},major:function(d){return"string"===typeof d?d.replace(/[^\d\.]/g,"").split(".")[0]:b},trim:function(d){return d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},k=function(d,e){for(var f=0,h,p,q,g,r,m;f<
e.length&&!r;){var w=e[f],B=e[f+1];for(h=p=0;h<w.length&&!r;)if(r=w[h++].exec(d))for(q=0;q<B.length;q++)m=r[++p],g=B[q],"object"===typeof g&&0<g.length?2==g.length?this[g[0]]="function"==typeof g[1]?g[1].call(this,m):g[1]:3==g.length?this[g[0]]="function"!==typeof g[1]||g[1].exec&&g[1].test?m?m.replace(g[1],g[2]):b:m?g[1].call(this,m,g[2]):b:4==g.length&&(this[g[0]]=m?g[3].call(this,m.replace(g[1],g[2])):b):this[g]=m?m:b;f+=2}},l=function(d,e){for(var f in e)if("object"===typeof e[f]&&0<e[f].length)for(var h=
0;h<e[f].length;h++){if(c.has(e[f][h],d))return"?"===f?b:f}else if(c.has(e[f],d))return"?"===f?b:f;return d},u={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},x={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/(opios)[\/\s]+([\w\.]+)/i],[["name","Opera Mini"],"version"],
[/\s(opr)\/([\w\.]+)/i],[["name","Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],["name","version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[["name","IE"],"version"],[/(edge)\/((\d+)?[\w\.]+)/i],["name",
"version"],[/(yabrowser)\/([\w\.]+)/i],[["name","Yandex"],"version"],[/(puffin)\/([\w\.]+)/i],[["name","Puffin"],"version"],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[["name","UCBrowser"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(micromessenger)\/([\w\.]+)/i],[["name","WeChat"],"version"],[/(QQ)\/([\d\.]+)/i],["name","version"],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],["name","version"],[/xiaomi\/miuibrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],
[/;fbav\/([\w\.]+);/i],["version",["name","Facebook"]],[/(headlesschrome) ([\w\.]+)/i],["version",["name","Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[["name",/(.+)/,"$1 WebView"],"version"],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[["name",/(.+(?:g|us))(.+)/,"$1 $2"],"version"],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],["version",["name","Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],["name","version"],[/(dolfin)\/([\w\.]+)/i],
[["name","Dolphin"],"version"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/(coast)\/([\w\.]+)/i],[["name","Opera Coast"],"version"],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["version","name"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],["name",["version",l,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416",
"2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,
/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",c.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",c.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],
[["architecture",c.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],
["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",l,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor",
"model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],["model",["vendor","Sony"],["type","mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",
["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[34portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",l,{HTC:"APA",Sprint:"Sprint"}],["model",l,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],
["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],["model",["vendor","Huawei"],["type","mobile"]],[/(microsoft);\s(lumia[\s\w]+)/i],["vendor","model",["type","mobile"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,
/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[["vendor",c.trim],["model",c.trim],["type","smarttv"]],[/hbbtv.+maple;(\d+)/i],[["model",/^/,"SmartTV"],["vendor","Samsung"],["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,
/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/smart-tv.+(samsung)/i],["vendor",["type","smarttv"],"model"],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],
["model",["vendor","Acer"],["type","tablet"]],[/android.+([vl]k\-?\d{3})\s+build/i],["model",["vendor","LG"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],
["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],["vendor","model",["type","mobile"]],[/crkey/i],[["model","Chromecast"],["vendor","Google"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/android.+;\s(pixel c)\s/i],["model",["vendor","Google"],["type","tablet"]],[/android.+;\s(pixel xl|pixel)\s/i],["model",["vendor","Google"],["type","mobile"]],[/android.+(\w+)\s+build\/hm\1/i,
/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/android.+;\s(m[1-5]\snote)\sbuild/i],["model",["vendor","Meizu"],["type","tablet"]],[/android.+a000(1)\s+build/i],["model",["vendor","OnePlus"],["type","mobile"]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],["model",["vendor","RCA"],["type","tablet"]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],["model",["vendor",
"Dell"],["type","tablet"]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],["model",["vendor","Verizon"],["type","tablet"]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[["vendor","Barnes & Noble"],"model",["type","tablet"]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],["model",["vendor","NuVision"],["type","tablet"]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[["vendor","ZTE"],"model",["type","tablet"]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],["model",["vendor","Swiss"],
["type","mobile"]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],["model",["vendor","Swiss"],["type","tablet"]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],["model",["vendor","Zeki"],["type","tablet"]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[["vendor","Dragon Touch"],"model",["type","tablet"]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],["model",["vendor","Insignia"],["type","tablet"]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],["model",
["vendor","NextBook"],["type","tablet"]],[/android.+[;\/]\s*(Xtreme_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[["vendor","Voice"],"model",["type","mobile"]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[["vendor","LvTel"],"model",["type","mobile"]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],["model",["vendor","Envizen"],["type","tablet"]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],
["model",["vendor","MachSpeed"],["type","tablet"]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*TU_(1491)\s+build/i],["model",["vendor","Rotor"],["type","tablet"]],[/android.+(KS(.+))\s+build/i],["model",["vendor","Amazon"],["type","tablet"]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],["vendor","model",["type","tablet"]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[["type",c.lowerize],"vendor","model"],[/(android.+)[;\/].+build/i],
["model",["vendor","Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv:([\w\.]+).*(gecko)/i],["version","name"]],os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],
["name",["version",l,u]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",l,u]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name",
"Firefox OS"],"version"],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],
["name","version"],[/(haiku)\s(\w+)/i],["name","version"],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[["version",/_/g,"."],["name","iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]},t=function(d,e){this.name=d;this.version=
e},z=function(d){this.architecture=d},A=function(d,e,f){this.vendor=d;this.model=e;this.type=f},n=function(d,e){"object"===typeof d&&(e=d,d=b);if(!(this instanceof n))return(new n(d,e)).getResult();var f=d||(a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),h=e?c.extend(x,e):x,p=new t,q=new z,g=new A,r=new t,m=new t;this.getBrowser=function(){k.call(p,f,h.browser);p.major=c.major(p.version);return p};this.getCPU=function(){k.call(q,f,h.cpu);return q};this.getDevice=function(){k.call(g,
f,h.device);return g};this.getEngine=function(){k.call(r,f,h.engine);return r};this.getOS=function(){k.call(m,f,h.os);return m};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return f};this.setUA=function(w){f=w;p=new t;q=new z;g=new A;r=new t;m=new t;return this};return this};n.VERSION="0.7.14";n.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"};n.CPU={ARCHITECTURE:"architecture"};
n.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet",WEARABLE:"wearable",EMBEDDED:"embedded"};n.ENGINE={NAME:"name",VERSION:"version"};n.OS={NAME:"name",VERSION:"version"};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=n),exports.UAParser=n):"function"===typeof define&&define.amd?a.UAParser=n:a&&(a.UAParser=n);var v=a&&(a.jQuery||a.Zepto);if("undefined"!==typeof v){var y=new n;v.ua=
y.getResult();v.ua.get=function(){return y.getUA()};v.ua.set=function(d){y.setUA(d);d=y.getResult();for(var e in d)v.ua[e]=d[e]}}}("object"===typeof window?window:this);"undefined"===typeof AviviD.UAParser&&(AviviD.UAParser=new UAParser,AviviD.UAResult=AviviD.UAParser.getResult());"function"!=typeof AviviD.construct&&(AviviD.track_construct=function(a){window.jQuery?a():setTimeout(function(){AviviD.track_construct(a)},500)});
"function"!=typeof AviviD.main&&(AviviD.main=function(){AviviD.str_os_type=AviviD.detect_os_type();AviviD.int_os_type=AviviD.trans_os_type_to_number(AviviD.str_os_type);AviviD.str_browser_type=AviviD.detect_browser_type();AviviD.int_browser_type=AviviD.trans_browser_type_to_number(AviviD.str_browser_type);AviviD.client_href=encodeURIComponent(window.location.href);AviviD.geolocation={latitude:null,longitude:null,get_interval:1E4};AviviD.settings.ip_enable=void 0!=AviviD.settings.ip_enable?AviviD.settings.ip_enable:
1;"1"===AviviD.settings.ip_enable?AviviD.run_tracking_data():(AviviD.clientIP="_",AviviD.tracking_job(),"gutw"!=AviviD.web_id&&void 0!=AviviD.web_id&&AviviD.get_multi_uuid())});AviviD.tracking_job=function(){AviviD.tracking_data_ajax("landing",document.referrer,window.location.href,"_",AviviD.clientIP,AviviD.int_os_type,AviviD.int_browser_type)};
AviviD.tracking_data_ajax=function(a,b,c,k,l,u,x){null!==AviviD.geolocation.latitude&&null!==AviviD.geolocation.longitude&&(l=AviviD.geolocation.latitude+";"+AviviD.geolocation.longitude);a=JSON.stringify({web_id:AviviD.web_id,uuid:AviviD.uuid,behavior_type:a,referrer_url:b,current_url:c,click_url:k,user_ip:l,os_type:u,browser_type:x,tracking_platform:AviviD.tracking_platform,title:void 0!=AviviD.title?AviviD.title:"_"});jQuery.ajax({type:"POST",data:{json_data:a},url:"https://elephant.likr.com.tw/elephant_api/php_redis.php",
dataType:"json",success:function(t){},error:function(t,z,A){}})};
"gutw"!=AviviD.web_id&&void 0!=AviviD.web_id&&"function"!=typeof AviviD.get_multi_uuid&&(AviviD.get_multi_uuid=function(){if(1!=AviviD.get_cookie("AviviD_check_id")){var a=void 0!=AviviD.get_cookie("AviviD_uuid")&&"null"!=AviviD.get_cookie("AviviD_uuid")?AviviD.get_cookie("AviviD_uuid"):"_",b=void 0!=AviviD.get_cookie("_ga")?AviviD.get_cookie("_ga"):"_",c=void 0!=AviviD.get_cookie("_fbp")?AviviD.get_cookie("_fbp"):"_";"_"==b&&"_"==c||"_"==a||jQuery.ajax({url:"https://elephant.likr.com.tw/elephant_api/id_tracking.php",
type:"GET",data:{json_data:JSON.stringify({web_id:AviviD.web_id,likr:a,ga:b,fb:c,add:"_"})},success:function(k){1==k&&AviviD.set_cookie("AviviD_check_id",1,7)},error:function(k,l,u){console.log("xhr :",k);console.log("ajaxOptions :",l);console.log("thrownError :",u);console.log("status code : "+k.status+" , ajaxOptions : "+l)}})}});"function"!=typeof AviviD.detect_is_mobile&&(AviviD.detect_is_mobile=function(a){return"Android"==a||"iOS"==a?!0:!1});
"function"!=typeof AviviD.detect_os_type&&(AviviD.detect_os_type=function(){return AviviD.UAResult.os.name});"function"!=typeof AviviD.trans_os_type_to_number&&(AviviD.trans_os_type_to_number=function(a){switch(a){case "Android":return"1";case "iOS":return"2";case "Mac OS":return"3";case "Windows":return"4";default:return"9"}});
"function"!=typeof AviviD.detect_browser_type&&(AviviD.detect_browser_type=function(){var a=null!=navigator.userAgent.match(/line/i),b="iOS"==AviviD.UAResult.os.name;return a?"LINE":b?"iOS":AviviD.UAResult.browser.name});
"function"!=typeof AviviD.trans_browser_type_to_number&&(AviviD.trans_browser_type_to_number=function(a){switch(a){case "Chrome":return"1";case "Firefox":return"2";case "Safari":return"3";case "iOS":return"4";case "IE":return"5";case "Edge":return"6";case "Samsung Browser":return"8";default:return"9"}});
AviviD.run_tracking_data=function(){jQuery.ajax({url:"https://load-balancer.likr.com.tw/pushServer/get_client_ip_for_ring.php",type:"POST",dataType:"json",success:function(a){AviviD.clientIP=a;AviviD.tracking_job()},error:function(a,b,c){}})};"function"!=typeof AviviD.get_urlparam&&(AviviD.get_urlparam=function(a){a=new RegExp("(^|&)"+a+"=([^&]*)(&|$)");a=window.location.search.substr(1).match(a);return null!=a?unescape(a[2]):null});
"function"!=typeof AviviD.get_cookie&&(AviviD.get_cookie=function(a){a=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!=a?unescape(a[2]):null});"function"!=typeof AviviD.empty&&(AviviD.empty=function(a){if("number"==typeof a||"boolean"==typeof a)return!1;if("null"===a||"undefined"===a||"undefined"==typeof a||null===a)return!0;if("undefined"!=typeof a.length)return 0==a.length;var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return 0==b});
"function"!=typeof AviviD.get_uuid&&(AviviD.get_uuid=function(){AviviD.status.is_new_user_uuid="0";if(AviviD.get_urlparam("likr_id"))try{var a=window.atob(AviviD.get_urlparam("likr_id"));AviviD.set_cookie("AviviD_uuid",a);AviviD.set_cookie("uuid",a);AviviD.status.is_new_user_uuid="1";AviviD.uuid=a}catch(b){AviviD.set_cookie("AviviD_uuid","")}a=AviviD.get_cookie("AviviD_uuid");if(AviviD.empty(a))window.addEventListener("message",function(b){AviviD.uuid_origin=b.origin;"https://auto-load-balancer.likr.com.tw"===
AviviD.uuid_origin&&(b=b.data,AviviD.set_cookie("AviviD_uuid",b),AviviD.status.is_new_user_uuid="1",AviviD.uuid=b)},!1),a=document.createElement("iframe"),a.src="https://auto-load-balancer.likr.com.tw/pushEndPoint/uuid_gen/uuid_iframe.php",a.style="display:none",document.body?document.body.appendChild(a):setTimeout(function(){AviviD.get_uuid()},500);else return a});
"function"!=typeof AviviD.set_cookie&&(AviviD.set_cookie=function(a,b,c){var k=AviviD.get_top_domain();c=c||3650;var l=new Date;l.setTime(l.getTime()+864E5*c);document.cookie=a+"="+escape(b)+";expires="+l.toGMTString()+";domain="+k+";path=/"});
"function"!=typeof AviviD.get_top_domain&&(AviviD.get_top_domain=function(){var a=window.location.host,b=a.split(".").length,c=a.split(".").reverse();return"2">=b?a:"3"==b?"com"===c[1]?a:c[1]+"."+c[0]:"4"==b?"com"===c[0]?c[1]+"."+c[0]:c[2]+"."+c[1]+"."+c[0]:c[2]+"."+c[1]+"."+c[0]});
"function"!=typeof AviviD.analysis&&(AviviD.analysis=function(a,b){var c=JSON.stringify({uuid:AviviD.uuid,deal_type:a,price:void 0===b?null:b});jQuery.ajax({url:"https://elephant.likr.com.tw/elephant_api/crescent_analysis_redis.php",type:"POST",dataType:"json",data:{json_data:c},success:function(k){console.log(k)},error:function(k,l,u){}})});
AviviD.continus_run_jquery=function(){window.jQuery?"1"===AviviD.settings.ip_enable?AviviD.run_tracking_data():(AviviD.clientIP="_",AviviD.tracking_job()):setTimeout(function(){AviviD.continus_run_jquery()},500)};
"function"==typeof AviviD.track_construct?(AviviD.uuid=AviviD.get_uuid(),AviviD.track_construct(AviviD.main)):(void 0==AviviD.uuid&&(AviviD.uuid=AviviD.get_cookie("AviviD_uuid")),AviviD.geolocation={latitude:null,longitude:null,get_interval:1E4},AviviD.settings.ip_enable=void 0!=AviviD.settings.ip_enable?AviviD.settings.ip_enable:1,AviviD.continus_run_jquery());