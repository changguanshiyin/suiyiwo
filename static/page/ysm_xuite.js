function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}if(function(){var e;Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1}),String.prototype.trim||(e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(e,"")}),Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||"[object NodeList]"===Object.prototype.toString.call(e)||"[object HTMLCollection]"===Object.prototype.toString.call(e)},function(){function e(){}for(var t,n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],o=n.length,i=window.console=window.console||{};o--;)i[t=n[o]]||(i[t]=e)}()}(),void 0===SD||!SD)var SD={};SD.common=SD.common||{},SD.common.dom=SD.common.dom||{},SD.common.dom.getElementsByClassName=function(e,t,n,o){t=t||"*";var i,a=[],r=(n=n||document).getElementsByTagName(t),d=SD.common.dom.getClassRegEx(e),c=r.length;for(i=0;i<c;i++)d.test(r[i].className)&&(a[a.length]=r[i],o&&o.call(r[i],r[i]));return a},SD.common.dom.getClassRegEx=function(e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)")},SD.common.checkDom=function(e){var t,n,o,i,a,r,d,c,s=e.dom?Array.isArray(e.dom)?e.dom:[e.dom]:SD.common.dom.getElementsByClassName(e.class),l=[];for(n=0,o=s.length;n<o;n++)if(""===s[n].innerHTML){c={},(i=s[n].getAttribute("model"))&&("300x50"===i&&(i="320x50"),r=(a=i.split("x"))[0],d=a[1],c.width=r,c.height=u(d),c.model=i);var m=s[n].getAttribute("data-width");if(!c.width&&m&&(c.width=m),c.count=n,c.dom=s[n],e.attr&&s[n].getAttribute(e.attr)&&(c.attr={},c.attr[e.attr]=s[n].getAttribute(e.attr)),e.add)for(t in e.add)c[t]=e.add[t];l.push(c),s[n].innerHTML=" "}return l;function u(e){if(!e)return"";var t=e.match(/^\d+/g);return t?t[0]:""}},function(){var e,t,n,o,i,a,r,d,c,s;t=window.device,e={},window.device=e,o=window.document.documentElement,s=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&i("iphone")},e.ipod=function(){return i("ipod")},e.ipad=function(){return i("ipad")},e.android=function(){return!e.windows()&&i("android")},e.androidPhone=function(){return e.android()&&i("mobile")},e.androidTablet=function(){return e.android()&&!i("mobile")},e.blackberry=function(){return i("blackberry")||i("bb10")||i("rim")},e.blackberryPhone=function(){return e.blackberry()&&!i("tablet")},e.blackberryTablet=function(){return e.blackberry()&&i("tablet")},e.windows=function(){return i("windows")},e.windowsPhone=function(){return e.windows()&&i("phone")},e.windowsTablet=function(){return e.windows()&&i("touch")&&!e.windowsPhone()},e.fxos=function(){return(i("(mobile;")||i("(tablet;"))&&i("; rv:")},e.fxosPhone=function(){return e.fxos()&&i("mobile")},e.fxosTablet=function(){return e.fxos()&&i("tablet")},e.meego=function(){return i("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"===_typeof(window.process)},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e,t=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"];for(e=0;e<t.length;){if(i(t[e]))return!0;e++}return!1},e.portrait=function(){return 1<window.innerHeight/window.innerWidth},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.line=function(){return i("line")},e.noConflict=function(){return window.device=t,this},i=function(e){return-1!==s.indexOf(e)},r=function(e){var t;return t=new RegExp(e,"i"),o.className.match(t)},n=function(e){var t=null;r(e)||(t=o.className.replace(/^\s+|\s+$/g,""),o.className=t+" "+e)},c=function(e){r(e)&&(o.className=o.className.replace(" "+e,""))},e.ios()?e.ipad()?n("ios ipad tablet"):e.iphone()?n("ios iphone mobile"):e.ipod()&&n("ios ipod mobile"):e.android()?e.androidTablet()?n("android tablet"):n("android mobile"):e.blackberry()?e.blackberryTablet()?n("blackberry tablet"):n("blackberry mobile"):e.windows()?e.windowsTablet()?n("windows tablet"):e.windowsPhone()?n("windows mobile"):n("desktop"):e.fxos()?e.fxosTablet()?n("fxos tablet"):n("fxos mobile"):e.meego()?n("meego mobile"):e.nodeWebkit()?n("node-webkit"):e.television()?n("television"):e.desktop()&&n("desktop"),e.cordova()&&n("cordova"),a=function(){e.landscape()?(c("portrait"),n("landscape")):(c("landscape"),n("portrait"))},d=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(d,a,!1):window.attachEvent?window.attachEvent(d,a):window[d]=a,a(),window.device=e}(),SD.common.device={desktop:device.desktop(),mobile:device.mobile(),tablet:device.tablet(),ios:device.ios(),android:device.android(),androidTablet:device.androidTablet(),ipad:device.ipad(),line:device.line()},SD.common.createEl=SD.common.createEl||{},SD.common.createEl.get=function(e){var t,n,o=e.attr||{};if(!e.tag)return console.error("required set tag");for(t in n=document.createElement(e.tag),o)n.setAttribute(t,o[t]);return e.html&&(n.innerHTML=e.html),e.handleOnLoad&&SD.common.dom.handleOnLoad(n,e.handleOnLoad),e.handleError&&(n.onerror=e.handleError),e.cssText&&(n.style.cssText=e.cssText),!1!==e.dom&&(e.dom?SD.common.createEl.append(n,e.dom):SD.common.createEl.append(n)),n},SD.common.createEl.append=function(e,t){var n=document.getElementsByTagName("head")[0]||document.body;t?t.appendChild(e):n.appendChild(e)},SD.common.dom.handleOnLoad=function(e,t){void 0!==e.onload?e.onload=t:e.onreadystatechange=function(){"loaded"!==e.readyState&&"complete"!==e.readyState||t()}},SD.common.createEl.iframe=function(e){var t=e.cssText||"",n={framespacing:"0",frameborder:"no",frameBorder:"no",scrolling:"no"};return e.width?n.width=e.width:n.width="0",e.height?n.height=e.height:n.height="0",e.src&&(n.src=e.src),e.id&&(n.id=e.id),e.class&&(n.class=e.class),e.allowfullscreen&&(n.allowfullscreen="true"),e.srcdoc&&(n.srcdoc=e.srcdoc),SD.common.createEl.get({tag:"iframe",attr:n,cssText:t,dom:e.dom})},SD.common.iframeHtmlFoot=function(e){return e+"</body></html>"},SD.common.iframeHtmlHead=function(e){return e+'<html style="height: 100%;"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><style> html, body { margin: 0; padding: 0; } </style></head><body style="height: 100%;">'},SD.common.iframeInnerHtml=function(e,t){(e=(e=e.contentWindow||e.contentDocument).document).open(),e.write(t),e.close()},SD.common.createEl.css=function(e){var t,n={},o=e.text||"";return e.id&&(n.id=e.id),e.class&&(n.class=e.class),e.href?(e.media||(e.media="all"),n.href=e.href,n.rel="stylesheet",n.type="text/css",n.media=e.media,t=SD.common.createEl.get({tag:"link",attr:n})):(t=SD.common.createEl.get({tag:"style",attr:n}),o&&(t.styleSheet?t.styleSheet.cssText=o:t.appendChild(document.createTextNode(o)))),t},SD.common.cookie=SD.common.cookie||{},SD.common.cookie.getCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},SD.common.cookie.setCookie=function(e){var t,n,o="",i="";e.day&&(n=new Date).setTime(n.getTime()+24*e.day*60*60*1e3+r(n)),e.hour&&(n=new Date).setTime(n.getTime()+60*e.hour*60*1e3+r(n)),e.min&&(n=new Date).setTime(n.getTime()+60*e.min*1e3+r(n)),e.time&&(n=e.time),n&&(t=";expires="+n.toUTCString()+";"),e.domain&&(o="domain="+e.domain+";"),e.path&&(i="path="+e.path+";");var a="SameSite="+(e.sameSite?e.sameSite+";":"None; Secure;");function r(e){return 60*(0-e.getTimezoneOffset()/60)*60*1e3}document.cookie=e.name+"="+e.value+t+o+i+a},SD.common.createEl.remove=function(e){e.parentNode.removeChild(e)},SD.common.dom.addEventListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if("load"!==t||"SCRIPT"!==e.nodeName)return e.attachEvent("on"+t,n);var o,i=e.id;i||(i=(new Date).getTime()+Math.floor(10*Math.random()+1),e.id=i),o=setInterval(function(){document.getElementById(i)&&(n(),clearInterval(o))},300)},SD.common.createEl.js=function(e){var t=e.attr||{};return t.type="text/javascript",e.src&&(t.src=e.src),e.id&&(t.id=e.id),e.class&&(t.class=e.class),e.async&&(t.async=e.async),SD.common.createEl.get({tag:"script",attr:t,handleOnLoad:e.handleOnLoad,handleError:e.handleError,dom:e.dom})},SD.common.ajax=function(e){var t,n,o,i,a,r;if(!e)return console.error("not set arguments");if(!(t=e).method)return console.error("not set method");if(n=t.method,!t.url)return console.error("not set url");if(o=t.url,!t.success)return console.error("not set success callback");function d(e){if(!e)return"";var t="";for(var n in e)t=t+n+"="+encodeURIComponent(e[n])+"&";return t=t.substr(0,t.length-1)}if(r=t.success,i=t.data||null,"GET"===t.method&&i&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(i)&&(o=o+"?"+d(i)),"undefined"!=typeof XDomainRequest){var c=location.host,s=o.replace("https://","").replace("http://","");if(s=s.slice(0,s.indexOf("/")),0===o.indexOf("//")||s!==c){var l=new XDomainRequest;return l.open(n,o),l.onprogress=function(){},l.ontimeout=function(){},l.onerror=function(){},l.onload=function(){r(JSON.parse(l.responseText))},void setTimeout(function(){l.send()},0)}}if((a=new XMLHttpRequest).open(n,o),t.setRequestHeader)for(var m in t.setRequestHeader)a.setRequestHeader(m,t.setRequestHeader[m]);t.withCredentials&&(a.withCredentials=!0),"GET"!==t.method&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(d(i)),a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var e;switch(t.response){case"json":e=JSON.parse(a.responseText);break;case"xml":e=a.responseXML;break;default:e=JSON.parse(a.responseText)}r(e)}else{if(!t.error)return console.error("xhr.status",a.status);t.error(a.status,a.responseText)}}},SD.common.uuid=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var n=t()+t();return e.returnFirst8Char?n:n+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},SD.common.timestamp=function(e){return!1===e?(new Date).getTime():(e||(e=100),(new Date).getTime()%e+1)},SD.util=SD.util||{},SD.util.intersectionObserver=function(){var o,i,a,r,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Array.isArray(e.elements)?e.elements:[e.elements],n=e.intersectionCallback||function(){},d=e.boundingCallback||function(){};if("IntersectionObserver"in window){var c=new IntersectionObserver(function(e,t){e.forEach(function(e){n(e,c)})},{rootMargin:"0px",threshold:.25});t.forEach(function(e){c.observe(e)})}else{var s=window.top,l=(o=function(){t.forEach(function(e){d(e.getBoundingClientRect(),s,l)})},i=300,function(){var e=this,t=arguments,n=a&&!r;clearTimeout(r),r=setTimeout(function(){r=null,a||o.apply(e,t)},i),n&&o.apply(e,t)});s.addEventListener("scroll",l,{passive:!0})}},SD.util.scrollOutViewObserver=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=e.element,i=!!e.isRollBack,a=Object.assign({},{position:"fixed",bottom:0,right:0,zIndex:1},e.styles),r=!0,t=document.createElement("span"),d="sitemaji_temp_scrollObserver_"+SD.common.uuid({returnFirst8Char:!0});if(t.id=d,i&&o.parentNode.insertBefore(t,o.nextSibling),"IntersectionObserver"in window){var c=new IntersectionObserver(function(e,n){e.forEach(function(e){var t=e.target;t.id!==d&&!e.isIntersecting&&e.boundingClientRect.y<0&&(u(o),r=!1,n.unobserve&&n.unobserve(t)),i&&!r&&t.id===d&&0<=e.boundingClientRect.y&&(f(o),r=!0,c.observe(o))})},{rootMargin:"0px",threshold:.25});c.observe(o),i&&c.observe(t)}else{var n=window.top,s=p(function(){var e=o.getBoundingClientRect();r&&e.bottom<0&&(u(o),r=!1,n.removeEventListener("scroll",s,{passive:!0}))},300),l=p(function(){var e=t.getBoundingClientRect();!r&&0<=e.bottom&&(f(o),r=!0,n.addEventListener("scroll",s,{passive:!0}))},300);n.addEventListener("scroll",s,{passive:!0}),i&&n.addEventListener("scroll",l,{passive:!0})}var m={};function u(e){for(var t in a)e.style[t]&&(m[t]=e.style[t]),e.style[t]=a[t]}function f(e){for(var t in a)e.style[t]="";for(var n in m)e.style[n]=m[n]}function p(o,i,a){var r;return function(){var e=this,t=arguments,n=a&&!r;clearTimeout(r),r=setTimeout(function(){r=null,a||o.apply(e,t)},i),n&&o.apply(e,t)}}},SD.util.turnTime=function(e){var t,n=e.adConfig||"",o=e.rule,i=SD.common.timestamp();for(t in o)if(i<=Number(t))return void(n?o[t](n):o[t]())},SD.adModYsm=SD.adModYsm||{},SD.adModYsm.checkDom=function(e){return SD.common.checkDom(e)},SD.adModYsm.sitemajiGen=SD.adModYsm.sitemajiGen||{},SD.adModYsm.sitemajiGen.backend=SD.adModYsm.sitemajiGen.backend||{},SD.adModYsm.sitemajiGen.backend.api=function(t,e,n){var o,i;o=t.sitemajiApp&&!0===t.sitemajiApp?SD.common.device.ios?"ai":"aa":SD.common.device.desktop?"d":"m",i="//rd.sitemaji.com/ask.php?size="+e+"&hosthash="+SD.config.hosthash+"&device="+o+"&rtb=0";var a=new XMLHttpRequest;a.open("GET",i,!0),a.onload=function(){if(200<=this.status&&this.status<400){var e=JSON.parse(this.response);n(e,t)}else n("",t)},a.onerror=function(){n("",t)},a.send()},SD.adModYsm.sitemajiGen.backend.map={"300x250":1,"728x90":2,"300x100":3,"240x400":4,"120x120":5,"160x600":6,"425x300":7,"425x600":8,"234x60":9,"120x600":10,"160x160":11,"400x49":12,"300x50":13,"320x50":14,"300x600":15,"320x100":16,"468x60":17,"336x280":18,"320x480":19,"320x101":20,"250x80":21,"970x250":22,"250x250":23,"960x90":24,"970x90":25},SD.adModYsm.sitemajiGen.buildAd=function(e,t){var n,o,i,a,r,d,c,s,l,m,u,f,p,h=t.domObj,b=encodeURIComponent(location.href);if(e){for(n=0;n<h.length;n++)if(m=!0,o=h[n].dom,d=(r=(i=h[n].model).split("x"))[0],c=r[1],"320x101"===i&&(c="100"),(s=e["s"+i]).ad_size===i&&s.ad_list.length&&""!==s.ad_list[0].ad_type&&(m=!1,"img"===s.ad_list[0].ad_type?(a=t.sitemajiApp&&!0===t.sitemajiApp?'<a href="'+s.ad_list[0].ad_url+SD.config.hosthash+'" target="_blank">':'<a href="'+s.ad_list[0].ad_url+b+'" target="_blank">',a+='<img style="margin:0 auto;display:block;width:'+d+"px;height:"+c+'px;"src="'+decodeURIComponent(s.ad_list[0].ad_img)+'"></a>'):(u=decodeURIComponent(s.ad_list[0].ad_img),a='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="'+(f=d)+'" height="'+(p=c)+'" id="sitemajisystem"><param name="movie" value="'+decodeURIComponent(u)+'"><param name="allowScriptAccess" value="always"><embed src="'+decodeURIComponent(u)+'" width="'+f+'" height="'+p+'" allowscriptaccess="always"></embed></object>'),o.innerHTML=a,s.ad_list.shift()),m)if(t.sitemajiBackfill){var g=y(t);g.domObj=[h[n]],g.sitemajiBackfill=function(){},t.sitemajiBackfill(g)}else SD.config.sitemaji&&SD.config.sitemaji.backfill&&((l=t).domObj=[h[n]],SD.config.sitemaji.backfill(l))}else if(console.warn("no content"),t.sitemajiBackfill){var v=y(t);v.sitemajiBackfill=function(){},t.sitemajiBackfill(v)}function y(e){return JSON.parse(JSON.stringify(e))}},SD.adModYsm.sitemajiGen.backend.normalGen=function(e){var t,n,o="",i={},a=e.domObj;for(t=0;t<a.length;t++)a[t].dom.innerHTML=" ",(n=SD.adModYsm.sitemajiGen.backend.map[a[t].model])?i[n]=i[n]?i[n]+1:1:console.error("sitemaji Ad","model error: ",a[t].model);for(t in i)o=o+t+"x"+i[t]+",";o&&SD.adModYsm.sitemajiGen.backend.api(e,o,SD.adModYsm.sitemajiGen.buildAd)},SD.adModYsm.tabGen=SD.adModYsm.tabGen||{},SD.adModYsm.tabGen.content=function(e){var t="",n=SD.common.createEl.iframe({width:e.domObj.width,height:e.domObj.height,dom:e.adDom});t=SD.common.iframeHtmlHead(t),t+=e.adConfig.content,t=SD.common.iframeHtmlFoot(t),SD.common.iframeInnerHtml(n,t)},SD.adModYsm.tabGen.gen=function(e){var t,n=SD.common.cookie.getCookie("sitemaji_tab"),o=new Date,i=new Date(o.getFullYear(),o.getMonth(),o.getDate(),23,59,59),a=e.domObj,r=e.domObj.dom,d=SD.common.createEl.get({tag:"div",attr:{class:"sitemaji_tab_bg"},dom:r}),c=SD.common.createEl.get({tag:"div",attr:{class:"sitemaji_tab_close"},dom:r}),s=SD.common.createEl.get({tag:"div",attr:{class:"sitemaji_tab_open"},dom:r}),l=SD.common.createEl.get({tag:"div",attr:{class:"sitemaji_tab_ad"},dom:r}),m=SD.common.createEl.get({tag:"div",attr:{class:"sitemaji_tab_ad_close"},dom:l});function u(){SD.common.cookie.setCookie({name:"sitemaji_tab",value:t,time:i}),d.click(),setTimeout(function(){m.click()},e.delayTime)}function f(){l.style.display="block",e.create(e)}SD.common.createEl.get({tag:"span",attr:{class:"sitemaji_tab_text"},dom:r}),SD.common.dom.addEventListener(d,"click",function(){f()}),SD.common.dom.addEventListener(s,"click",function(){f()}),SD.common.dom.addEventListener(c,"click",function(){SD.common.createEl.remove(r)}),SD.common.dom.addEventListener(m,"click",function(){var e=l.childNodes;l.style.display="none",e[e.length-1].style.display="none"}),e.adDom=l,i.setTime(i.getTime()),n?(t=n.split(","))[a.count]?(t[a.count]=parseInt(t[a.count]),t[a.count]++,t[a.count]<=e.autoCount&&u()):(t[a.count]=1,u()):(t=1,u())},SD.adModYsm.tabGen.init=function(e){var t,n,o,i,a,r="sitemaji_tab_css",d=e.domObj;for(document.getElementById(r)||SD.common.createEl.css({href:SD.config.tab.css,id:r}),t=0,n=d.length;t<n;t++)o=d[t],i=0<Number(o.dom.getAttribute("data-delaytime"))?parseInt(o.dom.getAttribute("data-delaytime")):1e4,a=0<Number(o.dom.getAttribute("data-autocount"))?parseInt(o.dom.getAttribute("data-autocount")):3,SD.adModYsm.tabGen.gen({domObj:o,delayTime:i,autoCount:a,adConfig:SD.config.tab[o.model].adConfig,create:SD.config.tab[o.model].type})},SD.adModYsm.truvidGen=function(e){var t="sitemaji_truvid",n=e.domObj,o=e.truvid||SD.config.truvid;!document.getElementById(t)&&n[0]&&SD.common.createEl.js({src:o,id:t,dom:document.body})},SD.adModYsm.ucfunnelCallbackCache=SD.adModYsm.ucfunnelCallbackCache||{arr:[],exe:!1},SD.adModYsm.ucfunnelGen=function(e){var t,n,o,i,a,s,r,d,c,l,m,u=e.domObj,f=e.ucfunnel||SD.config.ucfunnel;for(n=0;n<u.length;n++){if(s="",(i=u[n]).attr)for(o in i.attr)s=f[i.model+"-"+i.attr[o]];if(s||(s=f[i.model]),void 0!==s)if(s.ad_width=i.width,s.ad_height=i.height,s.pbuid&&s.pbuid.match(/(pbuid-[0-9A-Za-z]+)/))m=void 0,d=(r={domObj:i,dataCache:s}).domObj,c=r.dataCache,l=c.pbuid,(m=document.createElement("script")).src="https://cdn.aralego.net/header_bidding/"+l+"-prebid.js",m.async=!0,document.head.appendChild(m),a=SD.common.createEl.get({tag:"iframe",attr:{id:"postbid_iframe_"+c.ad_unit_id,"data-ad_unit_id":c.ad_unit_id,frameborder:0,scrolling:"no",width:0,height:0,allowtransparency:!0},dom:d.dom});else{if(a=SD.common.createEl.get({tag:"ins",attr:{"data-ad_unit_id":s.ad_unit_id,class:"ucfad_async"},dom:i.dom}),s.ad_unit_id.match(/^ad-\w{30,32}/)||console.error("ucfunnel ad_unit_id ".concat(s.ad_unit_id," is invalid, must start with ad-XXXXXX (30~32 characters) !")),f.insStyle&&f.insStyle[i.model])for(t in f.insStyle[i.model])a.style[t]=[f.insStyle[i.model][t]];b(h(s,a,i))}}var p=window.pbjs||{};for(p.que=p.que||[],n=0;n<u.length;n++){if(s="",(i=u[n]).attr)for(o in i.attr)s=f[i.model+"-"+i.attr[o]];s||(s=f[i.model]),void 0!==s&&(s.ad_width=i.width,s.ad_height=i.height,s.pbuid&&s.pbuid.match(/(pbuid-[0-9A-Za-z]+)/)&&p.que.push(function(){var e={provider:"ucfunnelAnalytics",options:{adid:s.ad_unit_id,pbuid:s.pubid}},d=0,t=new XMLHttpRequest,n="https://hbwa.aralego.com/analysis?pbuid="+s.pubid;t.open("GET",n),t.timeout=2e3,t.send(),t.onload=function(){d=t.responseText},p.enableAnalytics(e),p.addAdUnits(SD.config.ucfunnel.biddingUnits);var c="postbid_iframe_"+s.ad_unit_id;p.requestBids({timeout:1e3,bidsBackHandler:function(){var e,t='<script async src="https://ads.aralego.com/sdk"> <\/script>\n            <ins class="ucfad_async"\n                style="display:none;width: '.concat((e=s).ad_width,"px; height: ").concat(e.ad_height,'px"\n                data-ad_unit_id="').concat(e.ad_unit_id,'">\n            </ins>\n            <script> (ucfad_async = window.ucfad_async||[]).push({}); <\/script>'),n=p.getHighestCpmBids();if(0<n.length&&n[0]&&n[0].cpm)var o=n[0].cpm;var i=document.getElementById(c),a=i.contentWindow.document,r=p.getAdserverTargetingForAdUnitCode(c);d&&(d=parseFloat(d)),r&&r.hb_adid&&d<=o?p.renderAd(a,r.hb_adid):(i.width=s.ad_width,i.height=s.ad_height,a.write("<head></head><body>"+t+"</body>"),a.close())}})}))}function h(o,i,a){return function(){var e,t,n;window.ucf.insertAd(o,i),"320x480"===a.model&&SD.common.device.mobile&&(e=setInterval(function(){if(a.dom.childNodes[0].childNodes[0]&&a.dom.childNodes[0].childNodes[0].childNodes[1]){if(SD.common.createEl.remove(a.dom.childNodes[0].childNodes[0].childNodes[1]),t=SD.common.createEl.get({tag:"span",dom:a.dom.childNodes[0].childNodes[0].childNodes[0]}),f.intersCloseStyle)for(n in f.intersCloseStyle)t.style[n]=f.intersCloseStyle[n];else t.style.position="absolute",t.style.top="5px",t.style.right="5px",t.style.width="40px",t.style.height="40px",t.style.zIndex="99999",t.style.background="url('//ad.sitemaji.com/static/close_circle.png') no-repeat",t.style.backgroundSize="contain",t.style.color="#fff",t.style.cursor="pointer";SD.common.dom.addEventListener(t,"click",function(){a.dom.childNodes[0].style.display="none"}),clearInterval(e)}},600),setTimeout(function(){clearInterval(e)},1e4))}}function b(e){var t,n,o;!0===SD.adModYsm.ucfunnelCallbackCache.exe?e():(o=document.getElementById("sitemaji_ucfunnel_api"),SD.adModYsm.ucfunnelCallbackCache.arr.push(e),o||SD.common.createEl.js({id:"sitemaji_ucfunnel_api",src:"//agent.aralego.com/sdk",handleOnLoad:function(){for(SD.adModYsm.ucfunnelCallbackCache.exe=!0,t=0,n=SD.adModYsm.ucfunnelCallbackCache.arr.length;t<n;t++)SD.adModYsm.ucfunnelCallbackCache.arr[t]()}}))}},SD.adModVideo=SD.adModVideo||{},function(a){SD.adModVideo.maJioGen=function(r){function e(n,e){!function(t,n){if(i.playlist)return s=Array.isArray(i.playlist)?i.playlist:[i.playlist],t();SD.common.ajax({method:"GET",url:"https://rd.sitemaji.com/articlev/ask.php",response:"json",withCredentials:!0,data:{hh:i.hosthash||SD.config.hosthash,dnt:i.dnt||0,n:i.videoNum||5,p:SD.common.device.mobile?"m":"d"},success:function(e){e.playlist&&0!==e.playlist.length?(s=e.playlist,t()):n()},error:n})}(function(){!function(e,o){var i=["https://imasdk.googleapis.com/js/sdkloader/ima3.js","https://ad.sitemaji.com/lib/videojs/video.min.js"],a=0,t=document.createElement("link");t.href="https://ad.sitemaji.com/lib/videojs/video.min.css",t.rel="stylesheet",t.type="text/css",e.appendChild(t);for(var n=0;n<i.length;n++)r(e,i[n]);function r(e,t){var n=document.createElement("script");return n.src=t,n.async=!0,e.appendChild(n),n.onload=function(){++a===i.length&&o()},n}}(o[n].dom,function(){!function(e){var t=e.dom,n=s[m],o="my-player_"+l,i=n.file;if(!i)return p(t);var a=document.createElement("video");a.id=o,a.setAttribute("class","video-js majio-theme"),t.appendChild(a),(d=videojs(o,{controls:!0,controlBar:{pictureInPictureToggle:!1},width:e.width?e.width:e.dom.offsetWidth,muted:!0,preload:"auto",playsinline:!0,debug:c,sources:[{src:i}]})).ima({id:o,debug:c,adTagUrl:n.vast_url,adWillPlayMuted:!0,disableCustomPlaybackForIOS10Plus:!0}),d.ima.initializeAdDisplayContainer(),function(n){if(1<arguments.length&&void 0!==arguments[1]&&!arguments[1])return u();SD.util.intersectionObserver({elements:n,intersectionCallback:function(e,t){e.isIntersecting&&(u(),t.unobserve&&t.unobserve(n))},boundingCallback:function(e,t,n){e.bottom<0&&(u(),t.removeEventListener("scroll",n,{passive:!0}))}})}(t,r.isPlayWhenIntersection),function(e){if(r.removeMajioIcon)return;var t=e.querySelector(".vjs-control-bar");t&&t.insertAdjacentHTML("beforeend",'<div class="majio-logo vjs-control"><a class="majio-logo__link" href="http://www.sitemaji.com/" target="blank">MAJIO</a></div>')}(t),function(e){var t=document.createElement("button");t.insertAdjacentHTML("beforeend",'<span class="read-more__text">閱讀全文</span>'),t.classList.add(h),g(t,{},r.readMoreStyles),t.addEventListener("click",function(e){return e.preventDefault(),e.stopPropagation(),b(),!1}),e.querySelector(".video-js").appendChild(t)}(t),function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(1<arguments.length?arguments[1]:void 0).dom,n=t.querySelector(".video-js"),o=_objectSpread({},e,{},{noShowAdSmallerThan300PX:!0,startTime:5,endTime:15});if(!o.showInnerAdCallback||!n||o.noShowAdSmallerThan300PX&&t.offsetWidth<300)return;var i=o.showInnerAdCallback,a=document.createElement("div"),r="majio_inner_banner_"+l;a.id=r,g(a,{position:"absolute",bottom:"8%",left:"50%",transform:"translate(-50%, 0)"},o.styles),d.on("loadstart",function(){var e=document.getElementById(r);e||(e=a,n.insertBefore(a,t.querySelector(".vjs-control-bar"))),e.innerHTML="",function(t,n,o,i){var a=!1;function r(){o&&o.off("timeupdate")}t.style.display="none",o.on("timeupdate",function(){var e=o.currentTime();if(e>n.startTime&&!a)return a=!0,i(),t.style.display="block",void(-1===n.endTime&&r());e>n.endTime&&(t.style.display="none",r())})}(e,o,d,function(){i(e,t)})})}(r.innerAdsInVideo,e),function(e){var n=e.querySelector(".vjs-control-bar");e.addEventListener("click",function(e){e.preventDefault();var t=e.target;if(t!==n&&!n.contains(t))return b(),!1})}(t),function(e){d.on("readyforpostroll",function(){!function(e){var t=e.querySelector(".".concat(h));t&&t.remove()}(e)})}(t),function(t){d.on("ended",function(){var e=r.endedCallback;e&&"function"==typeof e&&e(t),s.length===m+1?p(t):function(){var e=s[++m];d.src(e.file),d.ima.changeAdTag(e.vast_url),d.ima.requestAds(),u()}()})}(t),d.on("nopostroll",function(){f=!0}),function(){if(!c)return;d.on("adslog",function(e){var t=e.data.AdEvent.getAdData();t.adError&&(console.log("AD Error: ",t.adError.getMessage()),console.log("AD Error Code: ",t.adError.getErrorCode()))}),d.on("ads-request",function(e){console.log("adsRequest",e)}),d.on("ads-manager",function(e){var t=e.adsManager;console.log("adsManager",t),t.addEventListener(google.ima.AdEvent.Type.LOADED,function(e){console.log("current ad：",e.getAd()),console.log("isLinear：",e.getAd().isLinear()),console.log("getAdData：",e.getAdData())}),t.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(e){console.log("all add COMPLETE：",e)})})}()}(o[n])})},function(e,t){console.log("get vast api error, ",t),p(o[n].dom)})}for(var d,o=r.domObj,c=!!r.isDebug,i=r.majio||SD.config.majio||{},s=[],l=SD.common.uuid({returnFirst8Char:!0}),m=0,t=0,n=o.length;t<n;t++)e(t);function u(){d.ready(function(){var e=d.play();!function(){var e=s[m];if(e.trackings&&e.trackings.start){(new Image).src=s[m].trackings.start}}(),void 0!==e&&e.then(function(e){}).catch(function(e){})})}var f=!1;function p(e){var t=r.displayAdAfterEndedHandler;if(t&&"function"==typeof t)return n(),void t(e);function n(){d&&f&&d.dispose(),e.innerHTML=""}!r.collapseAfterAllFinish&&!1===r.collapseAfterAllFinish||function(e,t){var n=e.clientHeight;if(e.style.overflow="hidden",!n)return e.style.height=0,t();e.style.height="".concat(n,"px"),e.style.position="relative";var o=setTimeout(function(){e.style.transition="height 3s",e.style.height=0,clearTimeout(o)},0);e.addEventListener("transitionend",function(){t()})}(e,n)}var h="read-more__btn";function b(){if(!d.ads.isInAdMode()){var e=(s[m].links||[]).find(function(e){var t=d.currentTime();return e.startTime<=t&&e.endTime>t});e&&e.url&&a.open(e.url,"_blank")}}function g(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=Object.assign({},t,n);for(var i in o)e.style[i]=o[i];return e}}}(window),function(){SD.config=SD.config||{},SD.config.hosthash="fd3245a465ad",SD.config.siteName="xuite",SD.config.ucfunnel={"300x250":{ad_unit_id:"ad-488B6AB2486828EC99E84367E28383"},"728x90":{ad_unit_id:""},"160x600":{ad_unit_id:""},"300x600":{ad_unit_id:""},"320x50":{ad_unit_id:""},"320x480":{ad_unit_id:""},"336x280":{ad_unit_id:""},"300x100":{ad_unit_id:""}},SD.config.tab={css:"//ad.sitemaji.com/sitemaji_tab_hinet.css","300x250":{type:SD.adModYsm.tabGen.content,adConfig:{content:'<adbert format="300x250" channel="2017005" slot="201702000053"><script type="text/javascript" src="//ssp.hinet.net/api/app.js" defer><\/script></adbert>'}}},SD.config.truvid="//stg.truvidplayer.com/index.php?sub_user_id=347&widget_id=3463&playlist_id=2468&m=a&cb="+1e16*Math.random(),SD.common.dom.getElementsByClassName("sitemaji_outstream").forEach(function(e){return function(e){SD.adModYsm.truvidGen({domObj:SD.common.checkDom({dom:e})})}(e)}),SD.adModYsm.tabGen.init({domObj:SD.adModYsm.checkDom({class:"sitemaji_tab"})}),SD.util.turnTime({adConfig:{domObj:SD.adModYsm.checkDom({class:"sitemaji_banner"}),sitemajiBackfill:SD.adModYsm.ucfunnelGen},rule:{90:SD.adModYsm.ucfunnelGen,100:SD.adModYsm.sitemajiGen.backend.normalGen}});var e=document.querySelectorAll(".sitemaji_majio");0<e.length&&(SD.adModVideo.maJioGen({domObj:SD.common.checkDom({dom:e[0]}),isDebug:!1,majio:{}}),SD.util.scrollOutViewObserver({element:e[0],fixedStyles:{},isRollBack:!0}),e[0].style.width="350px",e[0].style.height="190px")}();